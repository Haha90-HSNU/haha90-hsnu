var MyJS=MyJS||{};!function(){var i,a;function o(){if(1===i.gameMD)i.welcomeing++,a.welcome.qn.gotoAndStop(Math.floor(i.welcomeing/25)),a.welcome.qp.gotoAndStop(Math.floor(i.welcomeing/25)),50<i.welcomeing&&(i.welcomeing=0),i.isDirty=i.isDirty||i.welcomeing%25==0;else if(3===i.gameMD){if(0==i.qNOW[0])if(a.theGame.q1.gotoAndStop(0),a.theGame.q2.gotoAndStop(0),a.theGame.q3.gotoAndStop(0),a.theGame.q4.gotoAndStop(0),a.theGame.q5.gotoAndStop(0),a.theGame.q6.gotoAndStop(0),1===i.questionMD){var e=1+Math.floor(4*Math.random());c(i.qNOW[0]=e)}else if(2===i.questionMD){e=5+Math.floor(2*Math.random());c(i.qNOW[0]=e)}else if(3===i.questionMD){if(Math.random()<.5)e=1+Math.floor(4*Math.random());else e=5+Math.floor(2*Math.random());c(i.qNOW[0]=e)}a.theGame.mykey.gotoAndStop(0),i.uANS="",i.gameMD=4,i.waiting=0}else 4===i.gameMD?(i.timeLEFT-=(i.myLevel-1)/(100-5*i.myLevel),s(),i.waiting++,.25<a.theGame.constP.bar.scaleX&&20<i.waiting?(i.waiting=0,i.isDirty=!0):a.theGame.constP.bar.scaleX<=.25&&2<i.waiting&&(i.waiting=0,i.isDirty=!0),i.timeLEFT<=0&&g()):5===i.gameMD?0<i.ooxxing?i.ooxxing--:(a.OO.visible=a.XX.visible=!1,a.theGame.mykey.gotoAndStop(0),i.gameMD=6,i.isDirty=!0):6===i.gameMD?(i.score<0&&(i.score=0),i.timeLEFT>i.timeMAX&&(i.timeLEFT=i.timeMAX),s(),i.CRcount>=i.CRth&&i.myLevel<10?(i.gameMD=7,i.CRcount=0,i.myLevel++,i.timeLEFT=i.timeMAX,a.levelup.visible=!0,i.leveluping=24,a.theGame.q1.gotoAndStop(0),a.theGame.q2.gotoAndStop(0),a.theGame.q3.gotoAndStop(0),a.theGame.q4.gotoAndStop(0),a.theGame.q5.gotoAndStop(0),a.theGame.q6.gotoAndStop(0),i.isDirty=!0,i.soundLevelup.currentTime=0,i.soundLevelup.play()):0<i.timeLEFT?(i.gameMD=3,i.isDirty=!0):g()):7===i.gameMD&&(0<i.leveluping?i.leveluping--:(a.levelup.visible=!1,i.gameMD=3,i.isDirty=!0));i.isDirty&&(i.stage.update(),i.isDirty=!1,log("update"))}function n(){a.welcome.visible=!0,a.levelup.visible=!1,a.theGame.visible=!1,a.XX.visible=!1,a.OO.visible=!1,a.gameover.visible=!1,a.howToPlay.visible=!1,i.qNOW=[0,0],i.score=0,i.CRcount=0,i.CRth=5,i.myLevel=1,i.timeLEFT=15,s(),i.gameMD=1,i.welcomeing=0,i.isDirty=!0}function m(e){var t,o=e.target.name;t=parseInt(o.charAt(8)),i.questionMD=t,i.gameMD=2,a.howToPlay.gotoAndStop(t-1),a.howToPlay.visible=!0,a.welcome.visible=!1,a.theGame.constP.qMDer.gotoAndStop(i.questionMD-1),i.isDirty=!0,i.soundIntro.currentTime=0,i.soundIntro.play()}function l(){i.gameMD=3,a.howToPlay.visible=!1,a.theGame.visible=!0,a.theGame.mykey.gotoAndStop(0),i.isDirty=!0,i.soundOO.currentTime=0,i.soundOO.play()}function t(e){if(4===i.gameMD){i.uANS=e,i.gameMD=5,a.theGame.mykey.gotoAndStop("L"===e?1:2);var t=i.anser[i.qNOW[1]],o=i.uANS===t;o?(i.CRcount++,i.score+=i.myLevel*i.CRcount,i.timeLEFT+=2*i.timeDELTA+i.myLevel,i.qNOW[0]=0,a.OO.tt1.text=a.OO.tt2.text="+"+String(i.myLevel*i.CRcount),i.soundOO.currentTime=0,i.soundOO.play()):(i.CRcount=0,i.score-=i.myLevel,i.timeLEFT-=i.timeDELTA,i.soundXX.currentTime=0,i.soundXX.play()),a.OO.visible=o,a.XX.visible=!o,i.ooxxing=15,i.isDirty=!0}}function r(e){t(e.target.name.charAt(3))}function s(){var e=a.theGame.constP;e.tLevel.text=String(i.myLevel),i.myLevel<10?e.tCR.text=String(i.CRcount):int(e.tCR.text)<i.CRcount&&(e.tCR.text=String(i.CRcount)),e.tScore.text=String(i.score),e.arrow.y=442.5-35*(i.myLevel-1),e.bar.scaleX=0<i.timeLEFT?i.timeLEFT/i.timeMAX:0,e.bar.gotoAndStop(.25<e.bar.scaleX?0:1),e.qMDer.gotoAndStop(i.questionMD-1)}function c(e){var t=a.theGame["q"+e];if(1===e){var o=1+Math.floor(4*Math.random());i.qNOW[1]=o-1,t.gotoAndStop(o);var n=360*Math.random();t.pic.rotation=n,t.pic.qq.rotation=-n,i.anser=["L","R","R","L"]}else if(2===e){o=1+Math.floor(4*Math.random());i.qNOW[1]=o-1,t.gotoAndStop(o);n=360*Math.random();t.pic.rotation=n,t.pic.qq.rotation=-n,i.anser=["L","R","R","L"]}else if(3===e){o=1+Math.floor(4*Math.random());i.qNOW[1]=o-1,t.gotoAndStop(o);n=360*Math.random();t.pic.rotation=n,t.pic.qq.rotation=-n,i.anser=["L","R","R","L"]}else if(4===e){o=1+Math.floor(8*Math.random());i.qNOW[1]=o-1,t.gotoAndStop(o),i.anser=["L","R","R","L","R","L","L","R"]}else if(5===e){o=1+Math.floor(8*Math.random());i.qNOW[1]=o-1,t.gotoAndStop(o),i.anser=["R","L","L","R","R","L","L","R"]}else if(6===e){o=1+Math.floor(8*Math.random());i.qNOW[1]=o-1,t.gotoAndStop(o),i.anser=["R","L","L","R","R","L","L","R"]}i.isDirty=!0}function g(){i.gameMD=8,a.gameover.visible=!0,i.isDirty=!0,i.soundGameover.currentTime=0,i.soundGameover.play()}function u(e){37===e.keyCode?t("L"):39===e.keyCode&&t("R")}function d(e){i.isDirty=!0,MyJS.myFullScreen()}MyJS.TheWorld=function(){(i=this).soundOO=new Audio("allData/js/sound/OO.wav"),i.soundXX=new Audio("allData/js/sound/XX.wav"),i.soundLevelup=new Audio("allData/js/sound/levelup.wav"),i.soundGameover=new Audio("allData/js/sound/gameover.wav"),i.soundIntro=new Audio("allData/js/sound/intro.wav"),i.isSound=!0;var e=AdobeAn.getComposition("98721F81DECAF344999FDE357BD1C436");i.lib=e.getLibrary(),i.myAnimate=new i.lib.myAnimate,a=i.myAnimate;var t=$("<canvas>").attr("width","1600px").attr("height","900px");$("#mainAnimation").append(t),i.stage=new createjs.Stage(t[0]),i.stage.enableMouseOver(1e3/30),i.stage.addChild(i.myAnimate),createjs.Touch.enable(i.stage),i.stage.update(),i.gameMD=0,i.questionMD=0,i.qNOW=[0,0],i.uANS="",i.ox,i.score=0,i.CRcount=0,i.CRth=0,i.myLevel=0,i.timeMAX=15,i.timeLEFT=0,i.timeDELTA=2,a.welcome.btnGame01.on("click",m),a.welcome.btnGame02.on("click",m),a.welcome.btnGame03.on("click",m),a.howToPlay.btnGo.on("click",l),a.theGame.btnR.on("click",r),a.theGame.btnL.on("click",r),a.theGame.btnHome.on("click",n),a.gameover.btnAgain.on("click",n),document.onkeydown=u,i.isFullScreened=!1,i.myAnimate.btnFullScreen.addEventListener("click",d),n(),setInterval(o,1e3/30),MyJS.myResize()}}();