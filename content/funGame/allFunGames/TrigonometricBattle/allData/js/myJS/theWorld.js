var MyJS=MyJS||{};!function(){var r;function o(){if(1===r.gameType)r.onePlayerL.showLifeA(r.ooMax),r.onePlayerR.showLifeA(r.ooMax);else if(2===r.gameType){if(r.onePlayerL.showLifeB(r.timeL/1e3,r.timeTotal/1e3),r.onePlayerR.showLifeB(r.timeR/1e3,r.timeTotal/1e3),1===r.gameBMD?(r["onePlayer"+r.questionMaker].tableClip.questionScreen.gotoAndStop(2),r["onePlayer"+r.questionAnser].tableClip.questionScreen.gotoAndStop(1)):2===r.gameBMD&&(r["onePlayer"+r.questionMaker].tableClip.questionScreen.gotoAndStop(4),r["onePlayer"+r.questionAnser].tableClip.questionScreen.gotoAndStop(3)),2===r.gameBMD){r.nowDate=new Date;var e=r.nowDate.getTime()-r.oldDate.getTime();r.oldDate=r.nowDate,r["time"+r.questionAnser]-=e,r["time"+r.questionAnser]<=0&&(r.isDirty=!0,r["time"+r.questionAnser]=0,r["onePlayer"+r.questionMaker].tableClip.winOrLose.gotoAndStop(1),r["onePlayer"+r.questionMaker].tableClip.winOrLose.visible=!0,r["onePlayer"+r.questionAnser].tableClip.winOrLose.gotoAndStop(2),r["onePlayer"+r.questionAnser].tableClip.winOrLose.visible=!0,r.gameBMD=3)}}else if(3===r.gameType)r.onePlayerOne.showLifeA(r.ooMax);else if(4===r.gameType&&2===r.gameBMD){r.onePlayerOne.showLifeB(r.timeOne/1e3,r.timeTotal/1e3),r.onePlayerOne.tableClip.questionScreen.gotoAndStop(3),r.nowDate=new Date;e=r.nowDate.getTime()-r.oldDate.getTime();r.oldDate=r.nowDate,r.timeOne-=e,r.timeOne<=0&&(r.isDirty=!0,r.timeOne=0,r.onePlayerOne.tableClip.winOrLose.gotoAndStop(3),r.onePlayerOne.tableClip.winOrLose.visible=!0,r.gameBMD=3)}(r.isDirty||0<r.pointerTweening||0<r.ooxxTweening)&&(log("update"),r.stage.update(),r.isDirty=!1,r.pointerTweening--,r.ooxxTweening--)}function a(e){r.gameType=0,r.isDirty=!0,r.myAnimate.mcSure.visible=!1,r.myAnimate.mainSelector.visible=!0,r.myAnimate.mainSelector.theSmallTeacher.visible=!1,r.myAnimate.playerTableJust1.visible=!1,r.myAnimate.playerTable2in1.visible=!1}function l(e){r.isDirty=!0;var n=e.target.parent.name.charAt(3),t=parseInt(e.target.parent.name.charAt(4));if(r.isSingle=r.myAnimate.mainSelector.chSingle.checked,"Q"!==n||r.isSingle){if("S"===n&&!r.isSingle){var i;r.gameType=2,r.timeTotal=1e3*r.arraySB[t-1],(i=r.myAnimate.playerTable2in1).tL.theLifeBar.lifeBarText.gotoAndStop(1),i.tR.theLifeBar.lifeBarText.gotoAndStop(1),i.tL.theAnserBtns.visible=i.tR.theAnserBtns.visible=!1,i.tL.theQuestionBtns.visible=i.tR.theQuestionBtns.visible=!1}}else r.gameType=1,r.ooMax=r.arrayQA[t-1],(i=r.myAnimate.playerTable2in1).tL.theLifeBar.lifeBarText.gotoAndStop(0),i.tR.theLifeBar.lifeBarText.gotoAndStop(0),i.tL.theAnserBtns.visible=i.tR.theAnserBtns.visible=!0,i.tL.theQuestionBtns.visible=i.tR.theQuestionBtns.visible=!1;if("Q"===n&&r.isSingle)r.gameType=3,r.ooMax=r.arrayQA[t-1],(o=r.myAnimate.playerTableJust1).ta.theLifeBar.lifeBarText.gotoAndStop(0),o.ta.theAnserBtns.visible=!0,o.infoForSingle.visible=!1;else if("S"===n&&r.isSingle){var o;r.gameType=4,r.timeTotal=1e3*r.arraySB[t-1],(o=r.myAnimate.playerTableJust1).ta.theLifeBar.lifeBarText.gotoAndStop(1),o.infoForSingle.visible=!0,r.oldDate=new Date}1===r.gameType||2===r.gameType?(!function(){r.isDirty=!0;var e=r.myAnimate.playerTable2in1;if(e.tL.winOrLose.visible=!1,e.tR.winOrLose.visible=!1,e.tL.ooxx.visible=!1,e.tR.ooxx.visible=!1,e.tL.hintText.visible=!1,e.tR.hintText.visible=!1,1===r.gameType)e.tL.questionScreen.gotoAndStop(0),e.tR.questionScreen.gotoAndStop(0),r.onePlayerL.hasOOed=0,r.onePlayerR.hasOOed=0,s();else if(2===r.gameType){var n=Math.random();r.questionMaker=n<.5?"R":"L",r.questionAnser=n<.5?"L":"R",r["onePlayer"+r.questionMaker].tableClip.questionScreen.gotoAndStop(2),r["onePlayer"+r.questionAnser].tableClip.questionScreen.gotoAndStop(1),r["onePlayer"+r.questionMaker].tableClip.questionScreen.qFunction.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.questionScreen.qAngle.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.questionScreen.ansNumber.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.theAnserBtns.visible=!1,r["onePlayer"+r.questionMaker].tableClip.theQuestionBtns.visible=!0,r["onePlayer"+r.questionAnser].tableClip.theAnserBtns.visible=!0,r["onePlayer"+r.questionAnser].tableClip.theQuestionBtns.visible=!1,r.timeL=r.timeTotal,r.timeR=r.timeTotal,y()}}(),r.myAnimate.mainSelector.visible=!1,r.myAnimate.playerTable2in1.visible=!0):3!==r.gameType&&4!==r.gameType||(!function(){r.isDirty=!0;var e=r.myAnimate.playerTableJust1;e.ta.winOrLose.visible=!1,e.ta.ooxx.visible=!1,e.ta.hintText.visible=!1,e.ta.theQuestionBtns.visible=!1,e.ta.questionScreen.gotoAndStop(0),r.onePlayerOne.hasOOed=0,r.onePlayerOne.hasXXed=0,r.timeOne=r.timeTotal,r.gameBMD=2,s()}(),r.myAnimate.mainSelector.visible=!1,r.myAnimate.playerTableJust1.visible=!0)}function s(){r.isDirty=!0,r.ooxxTweening=10;var e=Math.random();r.intQFunction=e<.4?1:e<.8?2:3,e=Math.random(),r.intQAngle=e<.18?1:e<.36?2:e<.54?3:e<.72?4:e<.86?5:e<.93?6:7,r.intAnser=r.anserArray[r.intQFunction-1][r.intQAngle-1],log("function= "+r.intQFunction+" ,angle= "+r.intQAngle+" ,anser= "+r.intAnser),r.onePlayerL.intFunction=r.onePlayerR.intFunction=r.intQFunction,r.onePlayerL.intAngle=r.onePlayerR.intAngle=r.intQAngle,r.onePlayerL.intAnser=r.onePlayerR.intAnser=r.intAnser,r.onePlayerL.tableClip.questionScreen.qFunction.gotoAndStop(r.intQFunction-1),r.onePlayerL.tableClip.questionScreen.qAngle.gotoAndStop(r.intQAngle-1),r.onePlayerR.tableClip.questionScreen.qFunction.gotoAndStop(r.intQFunction-1),r.onePlayerR.tableClip.questionScreen.qAngle.gotoAndStop(r.intQAngle-1),A("L"),A("R"),3!==r.gameType&&4!==r.gameType||(r.onePlayerOne.intFunction=r.intQFunction,r.onePlayerOne.intAngle=r.intQAngle,r.onePlayerOne.intAnser=r.intAnser,r.onePlayerOne.tableClip.questionScreen.qFunction.gotoAndStop(r.intQFunction-1),r.onePlayerOne.tableClip.questionScreen.qAngle.gotoAndStop(r.intQAngle-1),A("One")),r.isAnseringA=!0}function y(){r.isDirty=!0,r.ooxxTweening=10,r.gameBMD=1,r.intQFunction=-1,r.intQAngle=-1,r["onePlayer"+r.questionAnser].hitAnser=-1,r["onePlayer"+r.questionAnser].tableClip.questionScreen.qFunction.gotoAndStop(19),r["onePlayer"+r.questionAnser].tableClip.questionScreen.qAngle.gotoAndStop(19),r["onePlayer"+r.questionAnser].tableClip.questionScreen.ansNumber.gotoAndStop(18)}function p(){r.ooxxTweening=10}function A(e){r.isDirty=!0,r["onePlayer"+e].tableClip.questionScreen.ansNumber.gotoAndStop(19),r["onePlayer"+e].hitAnser=-1}function u(e,n){var t;r.isDirty=!0,log(e+",  "+String(n)),1===r.gameType&&r.isAnseringA?(r["onePlayer"+e].tableClip.questionScreen.ansNumber.gotoAndStop(n-1),n===r.intAnser?function(e){r.isDirty=!0,r.isAnseringA=!1;var n="L"===e?"R":"L";r["onePlayer"+e].hasOOed++,r["onePlayer"+e].hasOOed>=r.ooMax?(r["onePlayer"+e].tableClip.winOrLose.gotoAndStop(1),r["onePlayer"+e].tableClip.winOrLose.visible=!0,r["onePlayer"+n].tableClip.winOrLose.gotoAndStop(2),r["onePlayer"+n].tableClip.winOrLose.visible=!0):(r["onePlayer"+e].tableClip.ooxx.gotoAndStop(1),r["onePlayer"+e].tableClip.ooxx.visible=!0,r["onePlayer"+e].tableClip.ooxx.alpha=1,r["onePlayer"+n].tableClip.ooxx.gotoAndStop(3),r["onePlayer"+n].tableClip.ooxx.visible=!0,r["onePlayer"+n].tableClip.ooxx.alpha=1,createjs.Tween.get(r["onePlayer"+e].tableClip.ooxx).to({alpha:0,visible:!1},800),createjs.Tween.get(r["onePlayer"+n].tableClip.ooxx).to({alpha:0,visible:!1},810).call(s),r.ooxxTweening=1e12)}(e):(t=e,r.isDirty=!0,r["onePlayer"+t].hasOOed--,r["onePlayer"+t].hasOOed<0&&(r["onePlayer"+t].hasOOed=0),r["onePlayer"+t].tableClip.ooxx.gotoAndStop(2),r["onePlayer"+t].tableClip.ooxx.visible=!0,r["onePlayer"+t].tableClip.ooxx.alpha=1,A(t),createjs.Tween.get(r["onePlayer"+t].tableClip.ooxx).to({alpha:0,visible:!1},800).call(p),r.ooxxTweening=1e12)):2===r.gameType&&2===r.gameBMD?r.questionAnser===e&&(r["onePlayer"+r.questionAnser].tableClip.questionScreen.ansNumber.gotoAndStop(n-1),n===r.intAnser?(r.questionAnser,r.isDirty=!0,r["onePlayer"+r.questionAnser].tableClip.ooxx.gotoAndStop(1),r["onePlayer"+r.questionAnser].tableClip.ooxx.visible=!0,r["onePlayer"+r.questionAnser].tableClip.ooxx.alpha=1,createjs.Tween.get(r["onePlayer"+r.questionAnser].tableClip.ooxx).to({alpha:0,visible:!1},810).call(y),r.ooxxTweening=1e12,r.questionAnser="L"===r.questionAnser?"R":"L",r.questionMaker="L"===r.questionMaker?"R":"L",r.gameBMD=1,r["onePlayer"+r.questionAnser].hitAnser=-1,r["onePlayer"+r.questionAnser].tableClip.questionScreen.qFunction.gotoAndStop(19),r["onePlayer"+r.questionAnser].tableClip.questionScreen.qAngle.gotoAndStop(19),r["onePlayer"+r.questionAnser].tableClip.questionScreen.ansNumber.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.questionScreen.qFunction.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.questionScreen.qAngle.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.questionScreen.ansNumber.gotoAndStop(18),r["onePlayer"+r.questionMaker].tableClip.theAnserBtns.visible=!1,r["onePlayer"+r.questionMaker].tableClip.theQuestionBtns.visible=!0,r["onePlayer"+r.questionAnser].tableClip.theAnserBtns.visible=!0,r["onePlayer"+r.questionAnser].tableClip.theQuestionBtns.visible=!1):(r.questionAnser,r.isDirty=!0,r["onePlayer"+r.questionAnser].tableClip.ooxx.gotoAndStop(4),r["onePlayer"+r.questionAnser].tableClip.ooxx.visible=!0,r["onePlayer"+r.questionAnser].tableClip.ooxx.alpha=1,createjs.Tween.get(r["onePlayer"+r.questionAnser].tableClip.ooxx).to({alpha:0,visible:!1},810),A(r.questionAnser))):(3===r.gameType||4===r.gameType&&3!==r.gameBMD)&&r.isAnseringA&&(r.onePlayerOne.tableClip.questionScreen.ansNumber.gotoAndStop(n-1),n===r.intAnser?(r.isDirty=!0,r.isAnseringA=!1,r.onePlayerOne.hasOOed++,r.onePlayerOne.hasOOed>=r.ooMax&&3===r.gameType?(r.onePlayerOne.tableClip.winOrLose.gotoAndStop(1),r.onePlayerOne.tableClip.winOrLose.visible=!0):(r.onePlayerOne.tableClip.ooxx.gotoAndStop(1),r.onePlayerOne.tableClip.ooxx.visible=!0,r.onePlayerOne.tableClip.ooxx.alpha=1,createjs.Tween.get(r.onePlayerOne.tableClip.ooxx).to({alpha:0,visible:!1},810).call(s),r.ooxxTweening=1e12)):function(){r.isDirty=!0,r.onePlayerOne.hasXXed++,3===r.gameType&&(r.onePlayerOne.hasOOed--,r.onePlayerOne.hasOOed<0&&(r.onePlayerOne.hasOOed=0));r.onePlayerOne.tableClip.ooxx.gotoAndStop(2),r.onePlayerOne.tableClip.ooxx.visible=!0,r.onePlayerOne.tableClip.ooxx.alpha=1,A("One"),createjs.Tween.get(r.onePlayerOne.tableClip.ooxx).to({alpha:0,visible:!1},800).call(p),r.ooxxTweening=1e12}())}function b(e){r.isDirty=!0,r.myAnimate.mainSelector.theSmallTeacher.visible=!0,r.myAnimate.mainSelector.theSmallTeacher.gotoAndStop(0)}function m(e){r.isDirty=!0,r.myAnimate.mcSure.visible=!0}function g(e){r.isDirty=!0;var n=0,t=0;if("mousedown"===e.type?(n=e.stageX,t=e.stageY):"touchstart"===e.type&&(n=e.stageX,t=e.stageY),4!==r.gameMD){var i=r.myAnimate.mPointer;i.visible=!0,i.x=n,i.y=t,i.alpha=1,i.scaleX=i.scaleY=.8,createjs.Tween.get(i).to({scaleX:4,scaleY:4,alpha:0},300).call(c),r.pointerTweening=1e12}}function c(){r.pointerTweening=10,r.myAnimate.mPointer.visible=!1}function S(e){var n=this;n.tableClip,n.intFunction=-1,n.intAngle=-1,n.intAnser=-1,n.hitAnser,n.myName=e,n.mamaWorld,n.hasOOed=0,n.hasXXed=0}function h(e){var n=Math.round(10*e)/10,t=String(Math.round(10*n+10));return String(Math.floor(n))+"."+t.substr(-1)}function e(e){return String(Math.round(e+1e3)).substr(-2)}function d(e){r.isDirty=!0,MyJS.myFullScreen()}MyJS.TheWorld=function(){r=this,theWorld=r;var e=AdobeAn.getComposition("BDA2FC6049BF824383704F39B9292A27").getLibrary();r.myAnimate=new e.myAnimate;var n=$("<canvas>").attr("width","1600px").attr("height","900px");$("#mainAnimation").append(n),r.stage=new createjs.Stage(n[0]),r.stage.addChild(r.myAnimate),r.stage.enableMouseOver(60),createjs.Touch.enable(r.stage),r.stage.update(),r.isFullScreened=!1,r.myAnimate.mainSelector.btnFullScreen.addEventListener("click",d),r.arrayQA=[5,10,20,50,90],r.arraySB=[5,10,20,50,90],r.gameType=2,r.gameAMD=0,r.gameBMD=0,r.isSingle=!1,r.isAnseringA=!0,r.ooMax=3,r.questionMaker,r.questionAnser,r.timeTotal=1e5,r.timeL,r.timeR,r.timeOne,r.oldDate,r.nowDate,r.anserArray,r.intQFunction=0,r.intQAngle=0,r.intAnser=0,r.anserArray=new Array,r.anserArray.push(new Array(1,2,5,6,9,11,12)),r.anserArray.push(new Array(2,1,6,5,9,12,11)),r.anserArray.push(new Array(4,3,7,8,12,11,13)),r.myAnimate.mcSure.btnSureO.addEventListener("click",a),r.myAnimate.mcSure.btnSureX.addEventListener("click",function(){r.myAnimate.mcSure.visible=!1,r.isDirty=!0});for(var t=r.myAnimate.mainSelector,i=0;i<5;i++)t["btnQ"+(i+1)].ttt.gotoAndStop(i),t["btnQ"+(i+1)].addEventListener("click",l),t["btnS"+(i+1)].ttt.gotoAndStop(i),t["btnS"+(i+1)].addEventListener("click",l);t.btnSmallTeacher.addEventListener("click",b),t.theSmallTeacher.visible=!1,t.theSmallTeacher.btnPrev.addEventListener("click",function(e){0===t.theSmallTeacher.currentFrame?t.theSmallTeacher.visible=!1:t.theSmallTeacher.gotoAndStop(t.theSmallTeacher.currentFrame-1),r.isDirty=!0}),t.theSmallTeacher.btnNext.addEventListener("click",function(e){4===t.theSmallTeacher.currentFrame?(t.theSmallTeacher.gotoAndStop(0),t.theSmallTeacher.visible=!1):t.theSmallTeacher.gotoAndStop(t.theSmallTeacher.currentFrame+1),r.isDirty=!0}),r.onePlayerL=new S("L"),r.onePlayerR=new S("R"),r.onePlayerL.tableClip=r.myAnimate.playerTable2in1.tL,r.onePlayerR.tableClip=r.myAnimate.playerTable2in1.tR,r.onePlayerL.initBtns(),r.onePlayerR.initBtns(),r.myAnimate.playerTable2in1.btnResetAllGame.addEventListener("click",m),r.onePlayerOne=new S("One"),r.onePlayerOne.tableClip=r.myAnimate.playerTableJust1.ta,r.onePlayerOne.initBtns(),r.myAnimate.playerTableJust1.btnResetAllGame.addEventListener("click",m),r.stage.addEventListener("mousedown",g),a(),r.stage.update(),setInterval(o,1e3/30),MyJS.myResize()},S.prototype.initBtns=function(){r.isDirty=!0;var n=this;for(i=1;i<=3;i++)n.tableClip.theQuestionBtns["btnFunction"+i].addEventListener("click",function(e){n.clickBtnQuestion(e,n)}),n.tableClip.theQuestionBtns["btnFunction"+i].nnn.gotoAndStop(i-1);for(i=1;i<=7;i++)n.tableClip.theQuestionBtns["btnAngle"+e(i)].addEventListener("click",function(e){n.clickBtnQuestion(e,n)}),n.tableClip.theQuestionBtns["btnAngle"+e(i)].nnn.gotoAndStop(i-1);for(i=1;i<=13;i++)n.tableClip.theAnserBtns["btnNumber"+e(i)].addEventListener("click",function(e){n.clickBtnAnser(e,n)}),n.tableClip.theAnserBtns["btnNumber"+e(i)].nnn.gotoAndStop(i-1)},S.prototype.clickBtnQuestion=function(e,n){r.isDirty=!0;var t,i,o,a=parseInt(e.target.parent.name.substr(-1)),l=e.target.parent.name.charAt(3);t=n.myName,i=a,o=l,r.isDirty=!0,log(t+",  "+String(i)+",  "+o),2===r.gameType&&1===r.gameBMD&&("F"===o?(r.intQFunction=i,r["onePlayer"+r.questionAnser].tableClip.questionScreen.qFunction.gotoAndStop(i-1)):"A"===o&&(r.intQAngle=i,r["onePlayer"+r.questionAnser].tableClip.questionScreen.qAngle.gotoAndStop(i-1)),0<r.intQAngle&&0<r.intQFunction&&(r.intAnser=r.anserArray[r.intQFunction-1][r.intQAngle-1],A(r.questionAnser),r.oldDate=new Date,r.gameBMD=2))},S.prototype.clickBtnAnser=function(e,n){r.isDirty=!0;var t=parseInt(e.target.parent.name.substr(-2));u(n.myName,t)},S.prototype.showLifeA=function(e){this.tableClip.theLifeBar.barSquare.scaleY=this.hasOOed/e,this.tableClip.theLifeBar.ttt.text=String(this.hasOOed)+"\n"+String(e)},S.prototype.showLifeB=function(e,n){var t=this;t.tableClip.theLifeBar.barSquare.scaleY!==e/n&&(t.tableClip.theLifeBar.barSquare.scaleY=e/n,r.isDirty=!0),t.tableClip.theLifeBar.ttt.text!==h(e)+"\n"+h(n)&&(t.tableClip.theLifeBar.ttt.text=h(e)+"\n"+h(n),r.isDirty=!0),4===r.gameType&&(r.myAnimate.playerTableJust1.infoForSingle.ttt.text=n+"s \n"+t.hasOOed+"\n"+t.hasXXed)}}();