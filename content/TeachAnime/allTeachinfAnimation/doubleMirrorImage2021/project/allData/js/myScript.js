var pics={groundO:"data:image/png;base64,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",groundI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAIACAIAAACTr4nuAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMTowODoxNSAxNjo1NzoxMFWFz9EAACO8SURBVHhe7d09jBXn3TZw8ya2tQjsAgqQoLEiU2DJSHYKKIgEhV3gIilwiQvHFhRWgjvipzK2UgTLFQiFAppIEClFoEkBhSPhxgUUWILCLqDAEkQKSEb+KJ6Lcw/zTvacXXYJ3kHP//crjubr3DNzzr3wv+brrHrnnXeeYiRr1qzZsmVLN8KKu3v37rVr17oRVpz+Py79f1z6/7j0/3Hp/+PauHHj/+sGAQCAAgQAAAAoRAAAAIBCBAAAAChEAAAAgEIEAAAAKEQAAACAQn72yiuvdINL9uKLL96+fbsNz83Nbdiw4c6dO210aPv27du2bcvCizxqd926dbt3784ybTgycO/evcnM+bJY2mwL9xvQ6+emkRs3bnRTH6vs7Ouvv572V69evfimLtEzzzyzfv36boQV9/333093JFaM/j8u/X9c+v+49P9x6f/jWrt27fJ+CGzfvn07duzIwIcffpjad//+/Zs3b87o7373u+lS+ODBg+1XHt59993U5e+//36Gjxw5kj+5Vj3Hpk2b3nzzzQxcvHgxy6Q33Lp16/DhwzML6z179rzxxhsZOHv27Llz59rEJqX/W2+91Y089dShQ4eGf9hZy969e7uRZfp8og3v2rWrbe3Q1atXu6EHsvHHjh3LQPYo23zmzJmFAokfwhiXH4IZl/4/Lv1/XPr/uPT/cen/49q4cePyzgCk3G9f2M2bN7/88svXXntt9erVbXS6xk1R3uJdivVU/C05pJjetm1bivWMxksvvTRZ9n7Lram8Pvfcc5cvX27T00hq97xG6um2TFpLI21iRvPeYfXfXLlypRt66qkNGzYkOWRjHsH169f7fyPefvvttgFD3XID+TTivffee/311zP6y1/+Mhsz8ySJBDwuR4DGpf+PS/8fl/4/Lv1/XPr/uNauXTs7ALQLaaZlVirvvKakvnDhQr68F154IaNzc3P9YfJeqvP27c4LAPmTi1TVkYF2DuHq1auZde/evbT87bffpuxuFXNWlzemneiL7wy0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"};$("#mainAnimation").css("position","absolute").css("top","0px").css("left","0px").css("width","1600px").css("height","900px");var MyJS=MyJS||{};!function(){var o={};function A(){var A=1600,e=900,t=window.innerWidth,o=window.innerHeight,n=Math.min(t/A,o/e);$("#mainAnimation").css("width",n*A).css("height",n*e);var r=0,a=0;t/A<o/e?r=.5*(o-e*n):a=.5*(t-A*n),$("#mainAnimation").offset({top:r,left:a});for(var i=$("#mainAnimation").children(),s=i.length,E=0;E<s;E++){var l=i[E],c=n;"canvas"===$(l).attr("id")&&(c/=resolutionScale),$(l).css({"-webkit-transform":"scale("+c+")","-moz-transform":"scale("+c+")","-ms-transform":"scale("+c+")","-o-transform":"scale("+c+")",transform:"scale("+c+");"}).offset({top:r,left:a})}}!function(){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(o.isMobile=!0),o.isOpera=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),o.isFirefox="undefined"!=typeof InstallTrigger,o.isSafari=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),o.isIE=!!document.documentMode,o.isEdge=!o.isIE&&!!window.StyleMedia,o.isChrome=!!window.chrome&&!!window.chrome.webstore,o.isBlink=(o.isChrome||o.isOpera)&&!!window.CSS;var A=window.navigator.userAgent,e=window.navigator.platform;-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?o.isMacOS=!0:-1!==["iPhone","iPad","iPod"].indexOf(e)?o.isIOS=!0:-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?o.isWondows=!0:/Android/.test(A)?o.isAndroid=!0:!os&&/Linux/.test(e)&&(o.isLinux=!0)}(),(MyJS.myResize=A)(),$("#mainAnimation").on("dragstart",function(A){A.preventDefault()}).css("margin","0px auto").css("overflow","hidden"),$(window).resize(A),$("body").prop("scroll","no").css("overflow","hidden"),MyJS.myFullScreen=function(){t=theWorld;var A=$("#mainAnimation").get(0);t.isFullscreened?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),t.isFullscreened=!1):(A.requestFullscreen?A.requestFullscreen():A.mozRequestFullScreen?A.mozRequestFullScreen():A.webkitRequestFullscreen?A.webkitRequestFullscreen():A.msRequestFullscreen&&A.msRequestFullscreen(),t.isFullscreened=!0)}}();var comp=AdobeAn.getComposition("98EA1A955B63F6489D0F00F6BFD1C4DE"),lib=comp.getLibrary(),world2D=new lib.myAnimate,canvas2D=$("<canvas>").attr("width","1600px").attr("height","900px"),canvas3D=$("<canvas>").attr("width","1600px").attr("height","900px");$("#mainAnimation").append(canvas3D).append(canvas2D);var stage2D=new createjs.Stage(canvas2D[0]);stage2D.enableMouseOver(1e3/30),stage2D.addChild(world2D),createjs.Touch.enable(stage2D),stage2D.update();var Stats=function(){function A(A){return o.appendChild(A.dom),A}function e(A){for(var e=0;e<o.children.length;e++)o.children[e].style.display=e===A?"block":"none";t=A}var t=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(A){A.preventDefault(),e(++t%o.children.length)},!1);var n,r=(performance||Date).now(),a=r,i=0,s=A(new Stats.Panel("FPS","#0ff","#002")),E=A(new Stats.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(n=A(new Stats.Panel("MB","#f08","#201"))),e(0),{REVISION:16,dom:o,addPanel:A,showPanel:e,begin:function(){r=(performance||Date).now()},end:function(){i++;var A,e=(performance||Date).now();return E.update(e-r,200),a+1e3<e&&(s.update(1e3*i/(e-a),100),a=e,i=0,n)&&(A=performance.memory,n.update(A.usedJSHeapSize/1048576,A.jsHeapSizeLimit/1048576)),e},update:function(){r=this.end()},domElement:o,setMode:e}};Stats.Panel=function(t,o,n){var r=1/0,a=0,i=Math.round,s=i(window.devicePixelRatio||1),E=80*s,A=48*s,l=3*s,c=2*s,h=3*s,p=15*s,d=74*s,g=30*s,R=document.createElement("canvas");R.width=E,R.height=A,R.style.cssText="width:80px;height:48px";var w=R.getContext("2d");return w.font="bold "+9*s+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=n,w.fillRect(0,0,E,A),w.fillStyle=o,w.fillText(t,l,c),w.fillRect(h,p,d,g),w.fillStyle=n,w.globalAlpha=.9,w.fillRect(h,p,d,g),{dom:R,update:function(A,e){r=Math.min(r,A),a=Math.max(a,A),w.fillStyle=n,w.globalAlpha=1,w.fillRect(0,0,E,p),w.fillStyle=o,w.fillText(i(A)+" "+t+" ("+i(r)+"-"+i(a)+")",l,c),w.drawImage(R,h+s,p,d-s,g,h,p,d-s,g),w.fillRect(h+d-s,p,s,g),w.fillStyle=n,w.globalAlpha=.9,w.fillRect(h+d-s,p,s,i((1-A/e)*g))}}},"object"==typeof module&&(module.exports=Stats);var world3D={cameraRR:80};world3D.cameraTheta=90*Math.PI/180,world3D.cameraPhi=105*Math.PI/180,world3D.scene=new THREE.Scene;var scene=world3D.scene;world3D.camera=new THREE.PerspectiveCamera(60,1600/900,.01,1e5),world3D.cameraTarget=new THREE.Vector3(0,0,0),world3D.cameraDragAndRotate=!0,world3D.renderer=new THREE.WebGLRenderer({canvas:canvas3D[0],antialias:!0}),world3D.renderer.setSize(1600,900),world3D.raycaster=new THREE.Raycaster;var stats=new Stats;$("#mainAnimation").append(stats.dom),stats.dom.style.visibility="visible",Object.defineProperty(stats,"visible",{get:function(){return"visible"===stats.dom.style.visibility},set:function(A){stats.dom.style.visibility=A?"visible":"hidden"}}),stats.visible=!1;var directionalLight=new THREE.DirectionalLight(16777215,1);directionalLight.position.set(5,10,7.5),world3D.scene.add(directionalLight);var ambientLight=new THREE.AmbientLight(6710886);world3D.scene.add(ambientLight);var cpMRU,cpMRD,cpMRR,cpMRL,cpMLU,cpMLD,cpMLR,cpMLL,cpsR,cpsL,eyeBallObj,theMirror,manObj,gpObj,gpImgR,gpImgL,groundObjIn,groundObjOutLL,groundObjOutLU,groundObjOutRU,groundObjOutRR,smallScreen,theRay,theMeter,logo,fps=60,log=console.log,cos=Math.cos,sin=Math.sin,eyeTheta=90*Math.PI/180,eyePhi=15*Math.PI/180,eyeRR=80,isEyeDragging=!1,mirrorTheta=30*Math.PI/180,nnMax=6,mThetaMin=Math.PI/nnMax,menImgR=[],menImgL=[],manTheta=10*Math.PI/180,manDistance=40,groundsIR=[],groundsIL=[],isGround=!0,isViewTweening=!1,viewTweenMD=0,viewTweenDir=1,topViewRR=500;function init(){cpMRU=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMRD=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMRR=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMRL=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMLU=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMLD=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMLR=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpMLL=new THREE.Plane(new THREE.Vector3(0,1,0),0),cpsR=[cpMRU,cpMRD,cpMRR,cpMRL],cpsL=[cpMLU,cpMLD,cpMLR,cpMLL],world3D.renderer.localClippingEnabled=!0,generatePlayers(),eyeBallObj=generateOneEyeBall("o"),gpObj.add(eyeBallObj),generateMirror(),scene.add(theMirror),generateRay(),generateMeter(),world2D.sl01.setLabel("兩鏡夾角"),world2D.sl01.minimum=30,world2D.sl01.maximum=180,world2D.sl01.x-=150,world2D.sl01.length=300,world2D.sl01.value=60,world2D.sl02.setLabel("物位置"),world2D.sl02.minimum=0,world2D.sl02.maximum=180,world2D.sl02.value=15,world2D.ch01.setLabel("上空俯視"),world2D.ch02.setLabel("地板(耗效能)"),world2D.ch02.checked=!0,world2D.ch03.setLabel("觀察視野"),world2D.ch04.setLabel("量角器"),world2D.btn01.visible=world2D.btn02.visible=world2D.btnUp.visible=world2D.btnDown.visible=world2D.btnRight.visible=world2D.btnLeft.visible=!1,(smallScreen=new createjs.Shape).graphics.ss(5).s("#ffffff").dr(800,450,797.5,447.5),world2D.addChild(smallScreen),world2D.slCameraRR.value=80,world3D.cameraTarget.y=20,world3D.camera2=world3D.camera.clone(),world3D.cameraTarget2=world3D.cameraTarget.clone(),(logo=new createjs.Bitmap("allData/pics/logo.png")).x=320,logo.y=250,logo.tt=200,world2D.addChild(logo),setInterval(tick,1e3/fps)}function tick(){if(0<logo.tt&&(logo.tt--,logo.tt<60&&(logo.scaleX=.2+logo.tt/60*.8,logo.scaleY=.2+logo.tt/60*.8,logo.x=20+logo.tt/60*300,logo.y=20+logo.tt/60*220)),mirrorTheta=Math.round(world2D.sl01.value)*Math.PI/180,world2D.sl02.minimum=8,world2D.sl02.maximum=world2D.sl01.value-8,manTheta=Math.round(world2D.sl02.value)*Math.PI/180,isGround=world2D.ch02.checked,theMirror.resetM(),0!==viewTweenMD||isViewTweening){var A,e;1!==viewTweenMD||isViewTweening?isViewTweening&&(world3D.cameraTarget.x=60*viewTweenMD,eyeTheta=Math.PI/2,eyeRR=60,t=(1-viewTweenMD)*Math.PI/2+.01*viewTweenMD,A=(1-viewTweenMD)*(eyePhi+Math.PI/2),world3D.cameraRR=world2D.slCameraRR.value,e=(1-viewTweenMD)*eyeRR+viewTweenMD*topViewRR,world3D.camera.position.x=e*Math.sin(t)*Math.sin(A)+world3D.cameraTarget.x,world3D.camera.position.z=e*Math.sin(t)*Math.cos(A)+world3D.cameraTarget.z,world3D.camera.position.y=e*Math.cos(t)+world3D.cameraTarget.y,eyeBallObj.position.x=eyeRR*cos(eyePhi)*sin(eyeTheta),eyeBallObj.position.z=-eyeRR*sin(eyePhi)*sin(eyeTheta),eyeBallObj.position.y=eyeRR*cos(eyeTheta)+world3D.cameraTarget.y,1<(viewTweenMD+=viewTweenDir/60)?(isViewTweening=!1,viewTweenMD=1):viewTweenMD<0&&(isViewTweening=!1,viewTweenMD=0,world3D.cameraRR=eyeRR,world2D.slCameraRR.value=eyeRR,world3D.cameraTheta=eyeTheta=Math.PI/2,world3D.cameraPhi=eyePhi+Math.PI/2)):(isEyeDragging&&(o=getMouse3D("y",world3D.cameraTarget.y),eyePhi=Math.atan2(-o.z,o.x),eyeRR=Math.sqrt(o.z*o.z+o.x*o.x)),eyeRR<60?eyeRR=60:80<eyeRR&&(eyeRR=80),eyeBallObj.position.x=eyeRR*cos(eyePhi),eyeBallObj.position.z=-eyeRR*sin(eyePhi),eyeBallObj.position.y=world3D.cameraTarget.y,world3D.cameraTarget.x=60,world3D.camera.position.x=world3D.cameraTarget.x,world3D.camera.position.z=world3D.cameraTarget.z+.1,world3D.camera.position.y=topViewRR+world3D.cameraTarget.y,world3D.camera2.position.x=eyeBallObj.position.x,world3D.camera2.position.y=eyeBallObj.position.y,world3D.camera2.position.z=eyeBallObj.position.z)}else{if(world3D.camera.isDraging){var t=stage2D.mouseX,o=stage2D.mouseY;for(world3D.cameraPhi-=.005*(t-world3D.camera.oldMouseX);world3D.cameraPhi>Math.PI;)world3D.cameraPhi-=2*Math.PI;for(;world3D.cameraPhi<-Math.PI;)world3D.cameraPhi+=2*Math.PI;world3D.cameraTheta-=.005*(o-world3D.camera.oldMouseY),world3D.cameraTheta>.9999*Math.PI&&(world3D.cameraTheta=.9999*Math.PI),world3D.cameraTheta<1e-4*Math.PI&&(world3D.cameraTheta=1e-4*Math.PI),world3D.camera.oldMouseX=t,world3D.camera.oldMouseY=o}world3D.cameraRR=world2D.slCameraRR.value,world3D.camera.position.x=world3D.cameraRR*Math.sin(world3D.cameraTheta)*Math.sin(world3D.cameraPhi)+world3D.cameraTarget.x,world3D.camera.position.z=world3D.cameraRR*Math.sin(world3D.cameraTheta)*Math.cos(world3D.cameraPhi)+world3D.cameraTarget.z,world3D.camera.position.y=world3D.cameraRR*Math.cos(world3D.cameraTheta)+world3D.cameraTarget.y,eyeBallObj.position.x=world3D.camera.position.x,eyeBallObj.position.y=world3D.camera.position.y,eyeBallObj.position.z=world3D.camera.position.z,eyePhi=Math.atan2(-eyeBallObj.position.z,eyeBallObj.position.x),eyeRR=world3D.cameraRR,eyeTheta=world3D.cameraTheta}world3D.camera.fov=60*(1-viewTweenMD)+15*viewTweenMD,world3D.camera.near=.01*(1-viewTweenMD)+200*viewTweenMD,world2D.slCameraRR.visible=0===viewTweenMD,world3D.camera.lookAt(world3D.cameraTarget),setPlayers(),eyeBallObj.visible=1===viewTweenMD,eyeBallObj.rotation.x=0*Math.PI*viewTweenMD,cpMRU.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRUL,theMirror.vRUR),cpMRD.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRDR,theMirror.vRDL),cpMRR.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRUR,theMirror.vRDR),cpMRL.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRDL,theMirror.vRUL),cpMLU.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUL,theMirror.vLUR),cpMLD.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLDR,theMirror.vLDL),cpMLR.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUR,theMirror.vLDR),cpMLL.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLDL,theMirror.vLUL),world2D.ch01.checked&&viewTweenMD<1&&!isViewTweening?(isViewTweening=!0,viewTweenDir=1):!world2D.ch01.checked&&0<viewTweenMD&&!isViewTweening&&(isViewTweening=!0,viewTweenDir=-1),world2D.ch01.btnS.visible=!isViewTweening,updateRay(),gpImgR.scale.y=gpImgL.scale.y=gpObj.scale.y=.1*viewTweenMD+(1-viewTweenMD),theMeter.visible=1===viewTweenMD&&world2D.ch04.checked,renderScreenBig(),world2D.ch03.visible=1===viewTweenMD,world2D.ch04.visible=1===viewTweenMD,smallScreen.visible=1===viewTweenMD&&world2D.ch03.checked,1===viewTweenMD&&world2D.ch03.checked&&(eyeBallObj.visible=!1,gpImgR.scale.y=gpImgL.scale.y=gpObj.scale.y=1,theMeter.visible=!1,theRay.rM.visible=!1,world3D.camera2.lookAt(world3D.cameraTarget2),renderScreenSmall()),world2D.stage.update(),stats.update()}function renderScreenBig(){world3D.renderer.setViewport(0,0,1600,900),world3D.renderer.setScissor(0,0,1600,900),world3D.renderer.setScissorTest(!0),world3D.camera.aspect=1600/900,world3D.camera.updateProjectionMatrix(),world3D.renderer.render(scene,world3D.camera)}function renderScreenSmall(){world3D.renderer.setViewport(800,0,800,450),world3D.renderer.setScissor(800,0,800,450),world3D.renderer.setScissorTest(!0),world3D.renderer.render(scene,world3D.camera2)}function generatePlayers(){gpObj=new THREE.Group,scene.add(gpObj),manObj=generateOneMan("o"),gpObj.add(manObj);var A=250,e=250;(groundObjIn=new TEACHER.ObjPicPlane(A,e,"allData/pics/groundO.png","y")).cpL=new THREE.Plane(new THREE.Vector3(0,0,-1),0),groundObjIn.cpR=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjIn.mat.clippingPlanes=[groundObjIn.cpL,groundObjIn.cpR],groundObjOutLL=new TEACHER.ObjPicPlane(A,e,"allData/pics/groundO.png","y"),groundObjOutLU=new TEACHER.ObjPicPlane(A,e,"allData/pics/groundO.png","y"),groundObjOutRU=new TEACHER.ObjPicPlane(A,e,"allData/pics/groundO.png","y"),groundObjOutRR=new TEACHER.ObjPicPlane(A,e,"allData/pics/groundO.png","y"),groundObjOutLL.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutLL.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutLU.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutLU.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutRU.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutRU.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutRR.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutRR.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),groundObjOutLL.mat.clippingPlanes=[groundObjOutLL.cp1,groundObjOutLL.cp2],groundObjOutLU.mat.clippingPlanes=[groundObjOutLU.cp1,groundObjOutLU.cp2],groundObjOutRU.mat.clippingPlanes=[groundObjOutRU.cp1,groundObjOutRU.cp2],groundObjOutRR.mat.clippingPlanes=[groundObjOutRR.cp1,groundObjOutRR.cp2],gpObj.add(groundObjIn).add(groundObjOutLL).add(groundObjOutLU).add(groundObjOutRU).add(groundObjOutRR),gpImgR=new THREE.Group,gpImgL=new THREE.Group,scene.add(gpImgR).add(gpImgL);for(var t=0;t<nnMax;t++){var o=generateOneMan("i","r",t%2==0);o.name="ir"+(t+1),gpImgR.add(o),menImgR.push(o);var n=new TEACHER.ObjPicPlane(A,e,t%2==0?"allData/pics/groundI.png":"allData/pics/groundO.png","y"),o=new TEACHER.ObjPicPlane(A,e,t%2==0?"allData/pics/groundI.png":"allData/pics/groundO.png","y");n.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),n.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),n.cp3=new THREE.Plane(new THREE.Vector3(1,0,0),0),o.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),o.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),o.cp3=new THREE.Plane(new THREE.Vector3(1,0,0),0),n.coner1U=new THREE.Vector3,n.coner1D=new THREE.Vector3,n.coner2U=new THREE.Vector3,n.coner2D=new THREE.Vector3,n.mat.clippingPlanes=[cpMRL,cpMRR,cpMRU,n.cp1,n.cp2,n.cp3],o.mat.clippingPlanes=[cpMRL,cpMRR,cpMRU,o.cp1,o.cp2,o.cp3],gpImgR.add(n),gpImgR.add(o),groundsIR.push(n),groundsIR.push(o);n=generateOneMan("i","l",t%2==0);n.name="il"+(t+1),gpImgL.add(n),menImgL.push(n);o=new TEACHER.ObjPicPlane(A,e,t%2==0?"allData/pics/groundI.png":"allData/pics/groundO.png","y"),n=new TEACHER.ObjPicPlane(A,e,t%2==0?"allData/pics/groundI.png":"allData/pics/groundO.png","y");o.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),o.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),o.cp3=new THREE.Plane(new THREE.Vector3(1,0,0),0),n.cp1=new THREE.Plane(new THREE.Vector3(1,0,0),0),n.cp2=new THREE.Plane(new THREE.Vector3(1,0,0),0),n.cp3=new THREE.Plane(new THREE.Vector3(1,0,0),0),o.coner1U=new THREE.Vector3,o.coner1D=new THREE.Vector3,o.coner2U=new THREE.Vector3,o.coner2D=new THREE.Vector3,o.mat.clippingPlanes=[cpMLL,cpMLR,cpMLU,o.cp1,o.cp2,o.cp3],n.mat.clippingPlanes=[cpMLL,cpMLR,cpMLU,n.cp1,n.cp2,n.cp3],gpImgL.add(o),gpImgL.add(n),groundsIL.push(o),groundsIL.push(n)}}function generateOneMan(A,e,t){var o,n=new THREE.Object3D;return"o"===A?o=new TEACHER.ObjPicSphere(5,"allData/pics/man01.png"):"i"===A&&((o=t?new TEACHER.ObjPicSphere(5,"allData/pics/man02.png"):new TEACHER.ObjPicSphere(5,"allData/pics/man01.png")).mat.clippingPlanes="r"===e?cpsR:cpsL),o.position.y=5,n.add(o),n}function setPlayers(){manObj.position.x=manDistance*cos(manTheta),manObj.position.z=-manDistance*sin(manTheta),manObj.rotation.y=manTheta+Math.PI/2,groundObjIn.cpL.setComponents(0,0,-1,0),groundObjIn.cpR.setComponents(sin(mirrorTheta),0,cos(mirrorTheta),0),0<eyePhi&&eyePhi<mirrorTheta?(groundObjOutLL.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUL,theMirror.vLDL),groundObjOutLL.cp2.setComponents(0,0,1,0),groundObjOutLU.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUR,theMirror.vLUL),groundObjOutLU.cp2.setComponents(0,0,1,0),groundObjOutRU.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRUR,theMirror.vRUL),groundObjOutRU.cp2.setComponents(-sin(mirrorTheta),0,-cos(mirrorTheta),0),groundObjOutRR.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRDR,theMirror.vRUR),groundObjOutRR.cp2.setComponents(-sin(mirrorTheta),0,-cos(mirrorTheta),0)):mirrorTheta<eyePhi?(groundObjOutLL.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUL,theMirror.vLDL),groundObjOutLL.cp2.setComponents(0,0,1,0),groundObjOutLU.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUR,theMirror.vLUL),groundObjOutLU.cp2.setComponents(0,0,1,0),groundObjOutRU.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRDL,theMirror.vRUL),groundObjOutRU.cp2.setComponents(0,0,1,0),groundObjOutRR.cp1.setComponents(0,0,-1,1e5),groundObjOutRR.cp2.setComponents(-sin(mirrorTheta),0,-cos(mirrorTheta),0)):eyePhi<0&&(groundObjOutLL.cp1.setComponents(0,0,1,0),groundObjOutLL.cp2.setComponents(0,0,1,1e4),groundObjOutLU.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vLUR,theMirror.vLDR),groundObjOutLU.cp2.setComponents(-sin(mirrorTheta),0,-cos(mirrorTheta),0),groundObjOutRU.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRUR,theMirror.vRUL),groundObjOutRU.cp2.setComponents(-sin(mirrorTheta),0,-cos(mirrorTheta),0),groundObjOutRR.cp1.setFromCoplanarPoints(eyeBallObj.position,theMirror.vRDR,theMirror.vRUR),groundObjOutRR.cp2.setComponents(-sin(mirrorTheta),0,-cos(mirrorTheta),0)),groundObjIn.visible=groundObjOutLL.visible=groundObjOutLU.visible=groundObjOutRU.visible=groundObjOutRR.visible=isGround;for(var A=0;A<nnMax;A++){var e=menImgR[A];o=A%2==0?(A+2)*mirrorTheta-manTheta:(A+1)*mirrorTheta+manTheta,e.position.x=manDistance*cos(o),e.position.z=-manDistance*sin(o),e.rotation.y=o+(A%2==0?-Math.PI/2:Math.PI/2),e.visible=o<1.2*Math.PI+mirrorTheta;var t=groundsIR[2*A],e=groundsIR[2*A+1];t.cp1.setComponents(-sin((A+1)*mirrorTheta),0,-cos((A+1)*mirrorTheta),0),t.cp2.setComponents(sin((A+2)*mirrorTheta),0,cos((A+2)*mirrorTheta),0),t.coner1D.set(theMirror.width*cos((A+1)*mirrorTheta),0,-theMirror.width*sin((A+1)*mirrorTheta)),t.coner1U.set(theMirror.width*cos((A+1)*mirrorTheta),theMirror.height,-theMirror.width*sin((A+1)*mirrorTheta)),t.coner2D.set(theMirror.width*cos((A+2)*mirrorTheta),0,-theMirror.width*sin((A+2)*mirrorTheta)),t.coner2U.set(theMirror.width*cos((A+2)*mirrorTheta),theMirror.height,-theMirror.width*sin((A+2)*mirrorTheta)),t.cp3.setFromCoplanarPoints(eyeBallObj.position,t.coner1U,t.coner1D),e.cp1.setFromCoplanarPoints(eyeBallObj.position,t.coner1U,t.coner1D),e.cp2.setFromCoplanarPoints(eyeBallObj.position,t.coner2D,t.coner2U),e.cp3.setComponents(-sin((A+1)*mirrorTheta),0,-cos((A+1)*mirrorTheta),0),t.rotation.y=e.rotation.y=(2*Math.floor(A/2)+2)*mirrorTheta,t.visible=e.visible=(A+1)*mirrorTheta<Math.PI+eyePhi&&isGround;e=menImgL[A];o=A%2==0?A*mirrorTheta+manTheta:(A+1)*mirrorTheta-manTheta,e.position.x=manDistance*cos(o),e.position.z=manDistance*sin(o),e.rotation.y=-o+(A%2==0?-Math.PI/2:Math.PI/2),e.visible=o<1.2*Math.PI;var e=groundsIL[2*A],o=groundsIL[2*A+1];e.cp1.setComponents(-sin((A+0)*mirrorTheta),0,cos((A+0)*mirrorTheta),0),e.cp2.setComponents(sin((A+1)*mirrorTheta),0,-cos((A+1)*mirrorTheta),0),e.coner1D.set(theMirror.width*cos(A*mirrorTheta),0,theMirror.width*sin(A*mirrorTheta)),e.coner1U.set(theMirror.width*cos(A*mirrorTheta),theMirror.height,theMirror.width*sin(A*mirrorTheta)),e.coner2D.set(theMirror.width*cos((A+1)*mirrorTheta),0,theMirror.width*sin((A+1)*mirrorTheta)),e.coner2U.set(theMirror.width*cos((A+1)*mirrorTheta),theMirror.height,theMirror.width*sin((A+1)*mirrorTheta)),e.cp3.setFromCoplanarPoints(eyeBallObj.position,e.coner1D,e.coner1U),o.cp1.setFromCoplanarPoints(eyeBallObj.position,e.coner1D,e.coner1U),o.cp2.setFromCoplanarPoints(eyeBallObj.position,e.coner2U,e.coner2D),o.cp3.setComponents(-sin((A+0)*mirrorTheta),0,cos((A+0)*mirrorTheta),0),o.rotation.y=e.rotation.y=-2*Math.floor((A+1)/2)*mirrorTheta,o.visible=e.visible=A*mirrorTheta+eyePhi<Math.PI&&isGround}log(180*eyePhi/Math.PI),gpImgR.visible=eyePhi+Math.PI<mirrorTheta+Math.PI&&eyePhi+Math.PI>mirrorTheta,gpImgL.visible=0<eyePhi}function generateMirror(){var t=theMirror=new THREE.Object3D;t.width=100,t.height=50,t.colorA=65535,t.colorB=16776960,t.mirrorsR=[],t.mirrorsL=[],t.vRUR=new THREE.Vector3,t.vRUL=new THREE.Vector3,t.vRDR=new THREE.Vector3,t.vRDL=new THREE.Vector3,t.vLUR=new THREE.Vector3,t.vLUL=new THREE.Vector3,t.vLDR=new THREE.Vector3,t.vLDL=new THREE.Vector3;for(var A=2.06,e=0;e<nnMax;e++)for(var o=0;o<2;o++){var n=new THREE.Object3D,r=(e+o)%2==0?t.colorB:t.colorA,a=new TEACHER.ObjPlane(.8,t.height,r,"z",2);a.position.x=.4,a.position.y=.5*t.height;var i=new TEACHER.ObjBox(.8,t.height-.8,.8,r);i.position.x=t.width-.4,i.position.y=.5*t.height;var s=new THREE.MeshBasicMaterial({color:r}),E=new THREE.ConeGeometry(.4*Math.sqrt(2),A,4),l=new THREE.Mesh(E,s);l.rotation.z=Math.PI/2,l.rotation.x=Math.PI/4,l.position.x=1.03,l.position.y=t.height;var c=new THREE.Mesh(E,s);c.rotation.z=Math.PI/2,c.rotation.x=Math.PI/4,c.position.x=1.03;var h=new TEACHER.ObjBox(t.width-A,.8,.8,r);h.position.x=.5*t.width+1.03,h.position.y=t.height;E=new TEACHER.ObjBox(t.width-A,.8,.8,r);E.position.x=.5*t.width+1.03,n.add(i).add(a).add(h).add(E).add(c).add(l),0===o?(t.mirrorsR.push(n),0<e?(s.clippingPlanes=h.mat.clippingPlanes=E.mat.clippingPlanes=i.mat.clippingPlanes=a.mat.clippingPlanes=cpsR,gpImgR.add(n)):gpObj.add(n)):(t.mirrorsL.push(n),0<e?(s.clippingPlanes=h.mat.clippingPlanes=E.mat.clippingPlanes=i.mat.clippingPlanes=a.mat.clippingPlanes=cpsL,gpImgL.add(n)):gpObj.add(n))}t.mbR=new TEACHER.ObjPicPlane(t.width-1.6,t.height,"allData/pics/mirrorBack.png"),t.mbL=new TEACHER.ObjPicPlane(t.width-1.6,t.height,"allData/pics/mirrorBack02.png"),gpObj.add(t.mbR),gpObj.add(t.mbL),t.resetM=function(){for(var A=0;A<nnMax;A++){var e=t.mirrorsR[A];e.rotation.y=(A+1)*mirrorTheta,e.visible=e.rotation.y<Math.PI+eyePhi+5*Math.PI/180&&Math.abs(eyePhi)<3||0===A,(e=t.mirrorsL[A]).rotation.y=-A*mirrorTheta,e.visible=e.rotation.y>-Math.PI+eyePhi-5*Math.PI/180&&Math.abs(eyePhi)<3||0===A}t.mbL.rotation.y=0,t.mbL.position.x=.5*t.width,t.mbL.position.y=.5*t.height,t.mbR.rotation.y=mirrorTheta+Math.PI,t.mbR.position.y=.5*t.height,t.mbR.position.x=.5*t.width*cos(mirrorTheta),t.mbR.position.z=-.5*t.width*sin(mirrorTheta),t.vRUR.set(t.width*cos(mirrorTheta),t.height,-t.width*sin(mirrorTheta)),t.vRUL.set(0,t.height,0),t.vRDR.set(t.width*cos(mirrorTheta),0,-t.width*sin(mirrorTheta)),t.vRDL.set(0,0,0),t.vLUR.set(0,t.height,0),t.vLUL.set(t.width,t.height,0),t.vLDR.set(0,0,0),t.vLDL.set(t.width,0,0)},t.resetM()}function myMouseDown(A){if(world3D.camera.oldMouseX=stage2D.mouseX,world3D.camera.oldMouseY=stage2D.mouseY,1===viewTweenMD){var e=getMouse3D("y",0);if(Math.abs(e.x-eyeBallObj.position.x)<8&&Math.abs(e.z-eyeBallObj.position.z)<8)isEyeDragging=!0;else for(var t=0;t<nnMax;t++){var o,n=menImgR[t],r=menImgL[t];Math.abs(e.x-n.position.x)<8&&Math.abs(e.z-n.position.z)<8&&n.visible?o=n:Math.abs(e.x-r.position.x)<8&&Math.abs(e.z-r.position.z)<8&&r.visible&&(o=r),theRay.who&&o?(r=theRay.who.name.charAt(2),theRay.who.name===o.name||theRay.who.name.charAt(2)===o.name.charAt(2)&&Math.abs(r-Math.PI/mirrorTheta)<.01?theRay.who=null:theRay.who=o,t=1e3):o&&(theRay.who=o,t=1e3)}}else 0===viewTweenMD&&(world3D.camera.isDraging=!0)}function myMouseMove(A){}function myMouseUp(A){world3D.camera.isDraging=!1,isEyeDragging=!1}function generateOneEyeBall(){return new TEACHER.ObjPicPlane(15,14,"allData/pics/eye.png","y")}function generateRay(){theRay=new THREE.Object3D,scene.add(theRay),theRay.who=null,theRay.r0D=new TEACHER.Line(1,8,2),theRay.r0U=new TEACHER.Line(16777215,6,2),theRay.r0D.addPoint(0,0,0),theRay.r0D.addPoint(1,1,1),theRay.r0U.addPoint(0,0,0),theRay.r0U.addPoint(1,1,1),theRay.r0D.position.y=10,theRay.r0U.position.y=10.1,theRay.add(theRay.r0D).add(theRay.r0U),theRay.r1D=new TEACHER.Line(1,4,nnMax+3),theRay.r1U=new TEACHER.Line(16750899,2,nnMax+3),theRay.r1D.position.y=10.2,theRay.r1U.position.y=10.3,theRay.add(theRay.r1D).add(theRay.r1U);for(var A=0;A<nnMax+2;A++)theRay.r1U.addPoint(A,1e3,0),theRay.r1D.addPoint(A,1e3,0);theRay.rM=new TEACHER.Line(16711680,5,2),theRay.rM.position.y=10.5,scene.add(theRay.rM),theRay.rM.addPoint(0,0,0),theRay.rM.addPoint(1,0,0)}function updateRay(){if(theRay.visible=1===viewTweenMD&&0<eyePhi&&eyePhi<mirrorTheta,theRay.who&&theRay.visible){var A=Math.atan2(-theRay.who.position.z,theRay.who.position.x),e=theRay.who.name.charAt(2),t=theRay.who.name.charAt(1);Math.abs(e-Math.PI/mirrorTheta)<.01?(A-eyePhi+2*Math.PI)%(2*Math.PI)<Math.PI?(t="r",theRay.who=menImgR[e-1]):(t="l",theRay.who=menImgL[e-1]):(A-eyePhi+2*Math.PI)%(2*Math.PI)<Math.PI&&"r"===theRay.who.name.charAt(1)||(A-eyePhi+2*Math.PI)%(2*Math.PI)>Math.PI&&"l"===theRay.who.name.charAt(1)||(theRay.visible=!1);var o=new THREE.Vector3(eyeRR*cos(eyePhi),0,-eyeRR*sin(eyePhi));theRay.r0D.setPoint(0,o.x,o.y,o.z),theRay.r0D.setPoint(1,theRay.who.position.x,o.y,theRay.who.position.z),theRay.r0D.update(),theRay.r0U.setPoint(0,o.x,o.y,o.z),theRay.r0U.setPoint(1,theRay.who.position.x,o.y,theRay.who.position.z),theRay.r0U.update();for(var n,r,a=[],i=0;i<e;i++)"r"===t?(n=getIntersect(o,theRay.who.position,(i+1)*mirrorTheta),r=new THREE.Vector3(n*cos((i+1)%2*mirrorTheta),o.y,-n*sin((i+1)%2*mirrorTheta)),a.push(r)):"l"===t&&(n=getIntersect(o,theRay.who.position,-i*mirrorTheta),r=new THREE.Vector3(n*cos(i%2*mirrorTheta),o.y,-n*sin(i%2*mirrorTheta)),a.push(r));theRay.r1U.setPoint(0,o.x,o.y,o.z),theRay.r1D.setPoint(0,o.x,o.y,o.z);for(i=1;i<nnMax+2;i++)i<=a.length?(theRay.r1U.setPoint(i,a[i-1].x,o.y,a[i-1].z),theRay.r1D.setPoint(i,a[i-1].x,o.y,a[i-1].z)):(theRay.r1U.setPoint(i,manObj.position.x,o.y,manObj.position.z),theRay.r1D.setPoint(i,manObj.position.x,o.y,manObj.position.z));theRay.r1U.update(),theRay.r1D.update()}else theRay.visible=!1;theRay.rM.visible=1===viewTweenMD&&isEyeDragging,theRay.rM.visible&&(theRay.rM.setPoint(0,eyeBallObj.position.x,0,eyeBallObj.position.z),theRay.rM.setPoint(1,-eyeBallObj.position.x,0,-eyeBallObj.position.z),theRay.rM.update())}function getIntersect(A,e,t){var o=(-A.x*e.z+A.z*e.x)*cos(t)/((-e.z+A.z)*cos(t)+(A.x-e.x)*sin(t)),t=-(-A.x*e.z+A.z*e.x)*sin(t)/((-e.z+A.z)*cos(t)+(A.x-e.x)*sin(t));return Math.sqrt(o*o+t*t)}function generateMeter(){(theMeter=new THREE.Object3D).position.y=2,scene.add(theMeter);var A=16777215,e=new THREE.CylinderGeometry(39.5,40.5,.1,128,1,!0),t=new THREE.MeshBasicMaterial({color:A,side:THREE.DoubleSide}),t=new THREE.Mesh(e,t);theMeter.add(t);for(var o=0;o<360;o+=10){var n=o*Math.PI/180,r=new TEACHER.ObjPlane(o%30==0?10:4,o%30==0?1:.6,A,"y",2);r.position.x=40*cos(n),r.position.z=-40*sin(n),r.rotation.y=n,theMeter.add(r),o%30==0&&((r=new TEACHER.ObjTextPlane(20,7,0===o?"0":o-360,"y",A)).position.x=32*cos(n),r.position.z=-32*sin(n),r.rotation.y=n-Math.PI/2,theMeter.add(r),(r=new TEACHER.ObjTextPlane(27,9,o,"y",A)).position.x=48*cos(n),r.position.z=-48*sin(n),r.rotation.y=n-Math.PI/2,theMeter.add(r))}}MyJS.myResize(),world2D.btn3D.on("mousedown",myMouseDown),world2D.btn3D.on("pressmove",myMouseMove),world2D.btn3D.on("pressup",myMouseUp),world3D.camera.isDraging=!1,world3D.camera.oldMouseX=0,world3D.camera.oldMouseY=0,world2D.slCameraRR.minimum=10,world2D.slCameraRR.maximum=200,world2D.slCameraRR.value=80,world2D.slCameraRR.setLabel("遠近");var TEACHER={};function getMouse3D(A,e){var t=A||"y";let o;A=new THREE.Vector3;"x"===t?o=new THREE.Vector3(1,0,0):"y"===t?o=new THREE.Vector3(0,1,0):"z"===t?o=new THREE.Vector3(0,0,1):log("錯誤!!");let n=new THREE.Vector2;return n.x=world2D.stage.mouseX/1600*2-1,n.y=-world2D.stage.mouseY/900*2+1,world3D.raycaster.setFromCamera(n,world3D.camera),world3D.raycaster.ray.intersectPlane(new THREE.Plane(o,-e||0),A),A}TEACHER.ObjPlane=function(A,e,t,o,n){var r=this;r.mat=new TEACHER.MSMat(t,n),r.geo=new THREE.PlaneGeometry(A||10,e||10,1,1),r.mesh=new THREE.Mesh(r.geo,r.mat),"x"===o?r.mesh.rotation.y=.5*Math.PI:"y"===o&&(r.mesh.rotation.x=-.5*Math.PI),THREE.Object3D.call(this,r.geo,r.mat),r.add(r.mesh)},TEACHER.ObjPlane.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjPlane.prototype.constructor=TEACHER.ObjPlane,TEACHER.ObjCylinder=function(A,e,t,o,n,r){var a=this;a.mat=new TEACHER.MSMat(t,r),a.geo=new THREE.CylinderGeometry(A||10,A||10,e||10,32,2,o),a.mesh=new THREE.Mesh(a.geo,a.mat),"x"===n?a.mesh.rotation.z=-.5*Math.PI:"z"===n&&(a.mesh.rotation.x=.5*Math.PI),THREE.Object3D.call(this,a.geo,a.mat),a.add(a.mesh)},TEACHER.ObjCylinder.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjCylinder.prototype.constructor=TEACHER.ObjCylinder,TEACHER.ObjSphere=function(A,e,t){var o=this;o.mat=new TEACHER.MSMat(e,t),o.geo=new THREE.SphereGeometry(A||10,32,16),o.mesh=new THREE.Mesh(o.geo,o.mat),THREE.Object3D.call(this,o.geo,o.mat),o.add(o.mesh)},TEACHER.ObjSphere.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjSphere.prototype.constructor=TEACHER.ObjSphere,TEACHER.ObjBox=function(A,e,t,o,n){var r=this;r.mat=new TEACHER.MSMat(o,n),r.geo=new THREE.BoxGeometry(A||10,e||10,t||10),r.mesh=new THREE.Mesh(r.geo,r.mat),THREE.Object3D.call(this,r.geo,r.mat),r.add(r.mesh)},TEACHER.ObjBox.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjBox.prototype.constructor=TEACHER.ObjBox,TEACHER.MSMat=function(A,e){THREE.MeshBasicMaterial.call(this,{color:A||16711935,side:e||0})},TEACHER.MSMat.prototype=Object.create(THREE.MeshBasicMaterial.prototype),TEACHER.MSMat.prototype.constructor=TEACHER.MSMat,TEACHER.ObjPicPlane=function(A,e,t,o,n){var r=this,t=(new THREE.TextureLoader).load(t);r.mat=new THREE.MeshBasicMaterial({map:t,transparent:!0,side:n||0}),r.geo=new THREE.PlaneGeometry(A,e,1,1),r.mesh=new THREE.Mesh(r.geo,r.mat),"x"===o?r.mesh.rotation.y=.5*Math.PI:"y"===o&&(r.mesh.rotation.x=-.5*Math.PI),THREE.Object3D.call(this),r.add(r.mesh)},TEACHER.ObjPicPlane.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjPicPlane.prototype.constructor=TEACHER.ObjPicPlane,TEACHER.ObjPicCylinder=function(A,e,t,o,n,r){var a=this,t=(new THREE.TextureLoader).load(t);a.mat=new THREE.MeshBasicMaterial({map:t,side:r||0}),a.geo=new THREE.CylinderGeometry(A||10,A||10,e||10,32,4,o),a.mesh=new THREE.Mesh(a.geo,a.mat),"x"===n?a.mesh.rotation.z=-.5*Math.PI:"z"===n?(a.mesh.rotation.y=.5*Math.PI,a.mesh.rotation.x=.5*Math.PI):"y"===n&&(a.mesh.rotation.y=.5*Math.PI),THREE.Object3D.call(this,a.geo,a.mat),a.add(a.mesh)},TEACHER.ObjPicCylinder.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjPicCylinder.prototype.constructor=TEACHER.ObjPicCylinder,TEACHER.ObjPicSphere=function(A,e,t){var o=this,e=(new THREE.TextureLoader).load(e);o.mat=new THREE.MeshBasicMaterial({map:e,side:t||0}),o.geo=new THREE.SphereGeometry(A||10,32,16),o.mesh=new THREE.Mesh(o.geo,o.mat),THREE.Object3D.call(this,o.geo,o.mat),o.add(o.mesh)},TEACHER.ObjPicSphere.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjPicSphere.prototype.constructor=TEACHER.ObjPicSphere,TEACHER.ObjArrow=function(A,e){var t=new THREE.MeshStandardMaterial({color:e||16711935,roughness:.4}),e=new THREE.ConeGeometry(A||10,40,32);this.ArrowHead=new THREE.Mesh(e,t),this.ArrowHead.position.y=80,e=new THREE.CylinderGeometry(.5*(A||10),.5*(A||10),60,32,2),this.ArrowBody=new THREE.Mesh(e,t),this.ArrowBody.position.y=30,THREE.Object3D.call(this),this.rotX=new THREE.Object3D,this.rotY=new THREE.Object3D,this.add(this.rotY),this.rotY.add(this.rotX),this.rotX.add(this.ArrowBody),this.rotX.add(this.ArrowHead)},TEACHER.ObjArrow.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjArrow.prototype.constructor=TEACHER.ObjArrow,TEACHER.ObjArrow.prototype.setArrow=function(A,e,t){var o=A*A+e*e+t*t,n=Math.sqrt(o);0<o?(this.rotX.visible=!0,this.rotX.scale.y=n/100):this.rotX.visible=!1,this.rotX.rotation.x=Math.acos(e/n),this.rotY.rotation.y=Math.atan2(A,t)},TEACHER.ObjSpring=function(A,e,t,o,n){var r=A||20;this.L0=r;let a=[];var i=o||5,s=e||5,e=t||.5;a.push(new THREE.Vector3(0,0,0)),a.push(new THREE.Vector3(0,.05*r,0));for(var E=0;E<=16*i;E++)a.push(new THREE.Vector3(s*Math.cos(2*E*Math.PI/16),r*(.05+.9*E/i/16),s*Math.sin(2*E*Math.PI/16)));a.push(new THREE.Vector3(0,.95*r,0)),a.push(new THREE.Vector3(0,r,0));t=new THREE.CatmullRomCurve3(a),n=new THREE.MeshStandardMaterial({color:n||16711935,roughness:.4}),e=new THREE.TubeGeometry(t,500,e,12);this.mesh=new THREE.Mesh(e,n),THREE.Object3D.call(this),this.rotX=new THREE.Object3D,this.rotY=new THREE.Object3D,this.add(this.rotY),this.rotY.add(this.rotX),this.rotX.add(this.mesh)},TEACHER.ObjSpring.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjSpring.prototype.constructor=TEACHER.ObjSpring,TEACHER.ObjSpring.prototype.setSpring=function(A,e,t){var o=A*A+e*e+t*t,n=Math.sqrt(o);0<o?(this.rotX.visible=!0,this.rotX.scale.y=n/this.L0):this.rotX.visible=!1,this.rotX.rotation.x=Math.acos(e/n),this.rotY.rotation.y=Math.atan2(A,t)},TEACHER.Points=function(A,e,t){var o=this,e=e||1,A=A||16711935;let n=new THREE.Color(A);o.nnMax=t||1e4,o.nnNow=0,o.geometry=new THREE.BufferGeometry,o.positions=[],o.geometry.setAttribute("position",new THREE.Float32BufferAttribute(o.positions,3)),o.geometry.computeBoundingSphere();e=new THREE.PointsMaterial({size:e,map:o.createCanvasMaterial("#"+n.getHexString(),64),transparent:!0,depthWrite:!1});THREE.Points.call(this,o.geometry,e)},TEACHER.Points.prototype=Object.create(THREE.Points.prototype),TEACHER.Points.prototype.constructor=TEACHER.Points,TEACHER.Points.prototype.createCanvasMaterial=function(A,e){var t=document.createElement("canvas");t.width=t.height=e;var o=t.getContext("2d");o.imageSmoothingEnabled=!1;var n=new THREE.Texture(t),t=e/2;return o.beginPath(),o.arc(t,t,e/2-3,0,2*Math.PI,!1),o.closePath(),o.fillStyle=A,o.fill(),n.needsUpdate=!0,n},TEACHER.Points.prototype.addPoint=function(A,e,t){var o=this;o.nnNow<o.nnMax?o.nnNow++:(log("TEACHER.Points 到達最大點數"),o.positions.shift(),o.positions.shift(),o.positions.shift()),o.positions.push(A,e,t)},TEACHER.Points.prototype.clear=function(){this.positions=[],this.nnNow=0,this.update()},TEACHER.Points.prototype.setPoint=function(A,e,t,o){var n=this;A>n.nnMax?log("輸入的n值大於TEACHER.Points 最大點數 nnMax"):A>n.nnNow?log("輸入的n值大於TEACHER.Points 現在點數 nnNow"):(n.positions[3*A]=e,n.positions[3*A+1]=t,n.positions[3*A+2]=o)},TEACHER.Points.prototype.getPoint=function(A){var e=this;let t=new THREE.Vector3;return A>e.nnMax?log("輸入的n值大於TEACHER.Points 最大點數 nnMax"):A>e.nnNow?log("輸入的n值大於TEACHER.Points 現在點數 nnNow"):(t.x=e.positions[3*A],t.y=e.positions[3*A+1],t.z=e.positions[3*A+2]),t},TEACHER.Points.prototype.update=function(){this.geometry.setAttribute("position",new THREE.Float32BufferAttribute(this.positions,3)),this.geometry.computeBoundingSphere(),this.geometry.attributes.position.needsUpdate=!0},TEACHER.Line=function(A,e,t){var o=this;o.nnMax=t||1e4,o.lineWidth=e||1,o.nnNow=0;e=new THREE.LineMaterial({color:A||16711935,linewidth:e||1});e.resolution.set(window.innerWidth,window.innerHeight),o.geometry=new THREE.LineGeometry,o.positions=new Float32Array(3*o.nnMax),o.geometry.setPositions(o.positions),THREE.Line2.call(this,o.geometry,e)},TEACHER.Line.prototype=Object.create(THREE.Line2.prototype),TEACHER.Line.prototype.constructor=TEACHER.Line,TEACHER.Line.prototype.addPoint=function(A,e,t){var o=this;if(o.nnNow<o.nnMax)o.nnNow++;else{log("TEACHER.Line 到達最大點數");for(var n=0;n<o.nnMax-1;n++)o.positions[3*n]=o.positions[3*n+3],o.positions[3*n+1]=o.positions[3*n+4],o.positions[3*n+2]=o.positions[3*n+5]}for(n=o.nnNow;n<=o.nnMax;n++)o.positions[3*(n-1)]=A,o.positions[3*(n-1)+1]=e,o.positions[3*(n-1)+2]=t},TEACHER.Line.prototype.clear=function(){this.positions=new Float32Array(3*this.nnMax),this.nnNow=0},TEACHER.Line.prototype.setPoint=function(A,e,t,o){var n=this;A>n.nnMax?log("輸入的n值大於TEACHER.Line 最大點數 nnMax"):A>n.nnNow?log("輸入的n值大於TEACHER.Line 現在點數 nnNow"):(n.positions[3*A]=e,n.positions[3*A+1]=t,n.positions[3*A+2]=o)},TEACHER.Line.prototype.getPoint=function(A){var e=this;let t=new THREE.Vector3;return A>e.nnMax?log("輸入的n值大於TEACHER.Line 最大點數 nnMax"):A>e.nnNow?log("輸入的n值大於TEACHER.Line 現在點數 nnNow"):(t.x=e.positions[3*A],t.y=e.positions[3*A+1],t.z=e.positions[3*A+2]),t},TEACHER.Line.prototype.update=function(){for(var A=this,e=A.getPoint(A.nnNow-1),t=A.nnNow;t<=A.nnMax;t++)A.positions[3*t]=e.x,A.positions[3*t+1]=e.y,A.positions[3*t+2]=e.z;A.geometry.setPositions(A.positions)},TEACHER.ObjTextPlane=function(A,e,t,o,n,r){var a=this,i=Math.round(Math.log2(A/e)),s=$("<canvas>").attr("width",String(128*Math.pow(2,i))).attr("height","128");a.stage=new createjs.Stage(s[0]);let E=new createjs.Container;if(r){let A=new createjs.Shape,e=new THREE.Color(r);A.graphics.c().f("#"+e.getHexString()).dr(0,0,128*Math.pow(2,i),128),E.addChild(A)}a.ctext=new createjs.Text;let l=new THREE.Color(n||16777215);a.ctext.color="#"+l.getHexString(),a.ctext.font="96px Arial",a.ctext.text=t||"",a.ctext.textAlign="center",a.ctext.textBaseline="middle",a.ctext.x=128*Math.pow(2,i)/2,a.ctext.y=64,E.addChild(a.ctext),a.stage.addChild(E),a.stage.update(),a.texture=new THREE.Texture(s[0]);s=new THREE.MeshBasicMaterial({map:a.texture,transparent:!0}),e=new THREE.PlaneGeometry(A||10,e||10,1,1);a.texture.needsUpdate=!0,a.plane1=new THREE.Mesh(e,s),a.plane2=new THREE.Mesh(e,s),a.plane2.rotation.y=Math.PI;let c=new THREE.Object3D;c.add(a.plane1).add(a.plane2),"x"===o?c.rotation.y=.5*Math.PI:"y"===o&&(c.rotation.x=-.5*Math.PI),THREE.Object3D.call(this),a.add(c)},TEACHER.ObjTextPlane.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjTextPlane.prototype.constructor=TEACHER.ObjTextPlane,TEACHER.ObjTextPlane.prototype.setText=function(A){this.ctext.text=A,this.stage.update(),this.texture.needsUpdate=!0},TEACHER.ObjGraph=function(A,e,t,o,n,r,a){var i=this;i.objCon=new THREE.Object3D,i._xMin=A||0,i._xMax=e||10,i._yMin=t||0,i._yMax=o||10,i.divXN=5,i.divYN=4,i.frameMat=new THREE.LineBasicMaterial({color:n||16777215});for(var s=[],E=0;E<=i.divXN;E++)s.push(new THREE.Vector3(20*E-50,0,0)),s.push(new THREE.Vector3(20*E-50,50,0));for(var l=0;l<=i.divYN;l++)s.push(new THREE.Vector3(-50,12.5*l,0)),s.push(new THREE.Vector3(50,12.5*l,0));o=(new THREE.BufferGeometry).setFromPoints(s);i.frame=new THREE.LineSegments(o,i.frameMat),i.objCon.add(i.frame),i.labelXMin=new TEACHER.ObjTextPlane(20,5,String(i._xMin),"z",n||16777215),i.labelXMin.position.x=-50,i.labelXMin.position.y=-3,i.objCon.add(i.labelXMin),i.labelXMax=new TEACHER.ObjTextPlane(20,5,String(i._xMax),"z",n||16777215),i.labelXMax.position.x=50,i.labelXMax.position.y=-3,i.objCon.add(i.labelXMax),i.labelYMin=new TEACHER.ObjTextPlane(20,5,String(i._yMin),"z",n||16777215),i.labelYMin.position.x=-53,i.labelYMin.position.y=0,i.objCon.add(i.labelYMin),i.labelYMax=new TEACHER.ObjTextPlane(20,5,String(i._yMax),"z",n||16777215),i.labelYMax.position.x=-53,i.labelYMax.position.y=50,i.objCon.add(i.labelYMax),i.labelX=new TEACHER.ObjTextPlane(24,7,"x","z",n||16777215),i.labelX.position.x=60,i.labelX.position.y=4,i.labelX.position.z=1,i.labelY=new TEACHER.ObjTextPlane(24,7,"y","z",n||16777215),i.labelY.position.x=-60,i.labelY.position.y=25,i.labelY.position.z=1,i.labelY.rotation.z=Math.PI/2,i.labelTitle=new TEACHER.ObjTextPlane(40,10,"y-x","z",n||16777215),i.labelTitle.position.y=53,i.labelTitle.position.z=1,i.objCon.add(i.labelX).add(i.labelY).add(i.labelTitle),i._lineColor=r,i._nnMax=a,i.line=new TEACHER.Line(i._lineColor||16776960,2,i._nnMax),i.objCon.add(i.line),i.changeScale(),THREE.Object3D.call(this),i.add(i.objCon)},TEACHER.ObjGraph.prototype=Object.create(THREE.Object3D.prototype),TEACHER.ObjGraph.prototype.constructor=TEACHER.ObjGraph,Object.defineProperty(TEACHER.ObjGraph.prototype,"xMin",{get:function(){return this._xMin},set:function(A){this._xMin=A,this.changeScale()}}),Object.defineProperty(TEACHER.ObjGraph.prototype,"xMax",{get:function(){return this._xMax},set:function(A){this._xMax=A,this.changeScale()}}),Object.defineProperty(TEACHER.ObjGraph.prototype,"yMin",{get:function(){return this._yMin},set:function(A){this._yMin=A,this.changeScale()}}),Object.defineProperty(TEACHER.ObjGraph.prototype,"yMax",{get:function(){return this._yMax},set:function(A){this._yMax=A,this.changeScale()}}),TEACHER.ObjGraph.prototype.addPoint=function(A,e){this.line.addPoint(A,e,0),this.line.update()},TEACHER.ObjGraph.prototype.clear=function(){this.line.clear()},TEACHER.ObjGraph.prototype.changeScale=function(){var A=this;A.line.scale.x=100/(A._xMax-A._xMin),A.line.scale.y=50/(A._yMax-A._yMin),A.line.position.x=-50-A._xMin*A.line.scale.x,A.line.position.y=-A._yMin*A.line.scale.y,A.labelXMin.setText(A._xMin),A.labelXMax.setText(A._xMax),A.labelYMin.setText(A._yMin),A.labelYMax.setText(A._yMax)},TEACHER.ObjGraph.prototype.setLabel=function(A,e,t){this.labelTitle.setText(A||"y-x"),this.labelY.setText(e||"y"),this.labelX.setText(t||"x")},init();