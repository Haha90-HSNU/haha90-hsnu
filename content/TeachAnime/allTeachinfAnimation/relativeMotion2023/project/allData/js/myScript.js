'use strict';var graphics,fps=60,log=console.log,vv=4,period=100,tt1=0,tt2=.5*period,followRatio=0,followWho=0,isTrace=!0,yData1=[],yData2=[],yData0=[];function init(){var a=new createjs.Graphics;a.setStrokeStyle(1),a.beginStroke("#000000"),a.beginFill("red"),a.drawCircle(0,0,30),graphics=a;var b=new createjs.Shape(a);world2D.allPlayers.traces.addChild(b),world2D.pp01.stop(),world2D.pp02.stop(),world2D.rb0.checked=!0,world2D.rb0.on("click",clickRB),world2D.rb1.on("click",clickRB),world2D.rb2.on("click",clickRB),setInterval(tick,1e3/fps)}function tick(){tt1++,tt2++,tt1>period&&(tt1-=period),tt2>period&&(tt2-=period);var a=4*(800/period/period),b=a*period/2;if(world2D.allPlayers.device.p1.y=-50-b*tt1+.5*a*tt1*tt1,world2D.allPlayers.device.p2.y=-50-b*tt2+.5*a*tt2*tt2,world2D.allPlayers.device.p1.gotoAndStop(tt1<.5*period?0:1),world2D.allPlayers.device.p2.gotoAndStop(tt2<.5*period?0:1),world2D.allPlayers.device.car.w1.rotation+=180*(vv/25)/Math.PI,world2D.allPlayers.device.car.w2.rotation+=180*(vv/25)/Math.PI,world2D.allPlayers.bg.bg1.x-=vv,-400>world2D.allPlayers.bg.bg1.x&&(world2D.allPlayers.bg.bg1.x+=200),world2D.allPlayers.bg.bg2.x-=.9*vv,-700>world2D.allPlayers.bg.bg2.x&&(world2D.allPlayers.bg.bg2.x+=500),world2D.allPlayers.bg.bg3.x-=.6*vv,-1e3>world2D.allPlayers.bg.bg3.x&&(world2D.allPlayers.bg.bg3.x+=800),world2D.allPlayers.bg.bg4.x-=.3*vv,-1e3>world2D.allPlayers.bg.bg4.x&&(world2D.allPlayers.bg.bg4.x+=800),followRatio+=.05*(world2D.rb0.checked?-1:1),world2D.rb0.checked||(followWho+=.05*(world2D.rb1.checked?-1:1)),1<followRatio?followRatio=1:0>followRatio&&(followRatio=0),1<followWho?followWho=1:0>followWho&&(followWho=0),world2D.allPlayers.bg.y=followRatio*(-followWho*world2D.allPlayers.device.p2.y-(1-followWho)*world2D.allPlayers.device.p1.y-250),world2D.allPlayers.device.y=world2D.allPlayers.bg.y+80,isTrace=world2D.chTrace.checked,isTrace){let a=world2D.allPlayers.device.y,b=world2D.allPlayers.device.y+world2D.allPlayers.device.p1.y,e=world2D.allPlayers.device.y+world2D.allPlayers.device.p2.y;300>yData0.length?(yData0.push(a),yData1.push(b),yData2.push(e)):(yData0.shift(),yData1.shift(),yData2.shift(),yData0.push(a),yData1.push(b),yData2.push(e));let f=yData0.length,g=5;graphics.clear(),graphics.ss(5).s("#FFFFFF").mt(-f*g-125,yData0[0]+8);for(var c=1;c<f;c++)graphics.lt(-(f-c-1)*g-125,yData0[c]+8);graphics.ss(5).s("#00ffff").mt(-f*g-130,yData1[0]);for(var c=1;c<f;c++)graphics.lt(-(f-c-1)*g-130,yData1[c]);graphics.ss(5).s("#FF66ff").mt(-f*g+30,yData2[0]);for(var c=1;c<f;c++)graphics.lt(-(f-c-1)*g+30,yData2[c])}else graphics.clear(),yData0=[],yData1=[],yData2=[];world2D.allPlayers.traceBG.visible=isTrace,world2D.stage.update()}MyJS.myResize();function clickRB(a){var b=a.target.parent.name;"rb0"===b?(world2D.rb0.checked=!0,world2D.rb1.checked=!1,world2D.rb2.checked=!1):"rb1"===b?(world2D.rb0.checked=!1,world2D.rb1.checked=!0,world2D.rb2.checked=!1):"rb2"===b&&(world2D.rb0.checked=!1,world2D.rb1.checked=!1,world2D.rb2.checked=!0)}init();