function log(A){console.log(A)}!function(A,t,s){var i;A.properties={width:1200,height:700,fps:30,color:"#000000",manifest:[]},(A.peak=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.f().s("#000000").ss(2,1,1).p("AnyoQIAAAmIAEACIAAAFIAEAFIAAAFIAbAgIBzBCIBjAnIH8CpICOA9IBDAsIAcAkIAAAFIAEADIAAAZIgEAHIAAAFIgIAKIgEAKIgYAWIgcATIhPAqIhmApIn0CnIiPA9IhHAsIgbAgIgEAJIAAAFIgEADIAAAt"),this.shape.setTransform(50,.4),this.addChild(this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-1,-53.6,102,108),(A.media=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.f("#FF00FF").s().p("AkhH5IAAvxIJDAAIAAPxg"),this.shape.setTransform(0,0,1.724,.99),this.addChild(this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-50,-50,100,100),(A.screen=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.f().s("#CCCCCC").ss(3,1,1).p("EAAAA+gMAAAh8/"),this.shape_1=new s.Shape,this.shape_1.graphics.f("#000000").s().p("Egu2A+fMAAAh89MBdtAAAMAAAB89g"),this.shape_1.setTransform(300.5,0),this.addChild(this.shape_1,this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-1.5,-401.5,602,803),(A.hand=function(A,t,i){this.initialize(A,t,i,{}),this.frame_0=function(){this.stop()},this.timeline.addTween(s.Tween.get(this).call(this.frame_0).wait(3)),this.shape=new s.Shape,this.shape.graphics.f("rgba(255,0,255,0.008)").s().p("Ak9E+QiEiEAAi6QAAi5CEiEQCEiEC5AAQC6AACECEQCECEAAC5QAAC6iECEQiECEi6AAQi5AAiEiEg"),this.timeline.addTween(s.Tween.get(this.shape).wait(3)),this.shape_1=new s.Shape,this.shape_1.graphics.f().s("#CCCCCC").ss(2,1,1).p("AArgcIAAhyIgdgdIg4gBIAACQACBhxIgZgdIg9AAAiAAAIgzg4IhAAAIAABUICQDJIAABXIEeAAIAAhXIA6hWIAAjHIg6g5Ig6AAAEbkaQB1B2AACkQAAClh1B1Qh2B2ilgBQikABh2h2Qh1h1AAilQAAikB1h2QB2h0CkgBQClABB2B0gACBAAIAAhxAgqisIAAiPIg5AAIgdAdIAAEeAiABWIAAhW"),this.shape_2=new s.Shape,this.shape_2.graphics.f("#000000").s().p("AAAGPQikABh1h2Qh2h1ABilQgBikB2h1QB1h1CkAAQClAAB1B1QB2B1gBCkQABClh2B1Qh0B1imAAIAAAAgAhjE8IEeAAIAAhWIA5hXIAAjHIg5g5Ig6AAIA6AAIA5A5IAADHIg5BXIAABWIkeAAIAAhWIiQjKIAAhUIBAAAIAzA4IAAkeIAdgdIA5AAIAACPIAACRIAAiRIA4ABIAdAdIAABzIAAhzIgdgdIg4gBIAAiPIg5AAIgdAdIAAEeIgzg4IhAAAIAABUICQDKIAABWgAiABWIAAhWgACBAAIAAhxIgZgdIg9AAIA9AAIAZAdgAgqisg"),this.shape_3=new s.Shape,this.shape_3.graphics.f().s("#FFFFFF").ss(3,1,1).p("AEbkaQB1B2AACkQAAClh1B1Qh2B2ilgBQikABh2h2Qh1h1AAilQAAikB1h2QB2h0CkgBQClABB2B0gAiAAAIgzg4IhAAAIAABUICQDJIAABXIEeAAIAAhXIA6hWIAAjHIg6g5Ig6AAIgZgdIg9AAIgdgdIg4gBIAAiPIg5AAIgdAdgAArgcIAAhyACBAAIAAhxAgqisIAACQAiABWIAAhW"),this.shape_4=new s.Shape,this.shape_4.graphics.f("#000000").s().p("AAAGPQikABh1h2Qh2h1ABilQgBikB2h1QB1h1CkAAQClAAB1B1QB2B1gBCkQABClh2B1Qh0B1imAAIAAAAgAhjE8IEeAAIAAhWIA5hXIAAjHIg5g5Ig6AAIgZgdIg9AAIgdgdIg4gBIAAiPIg5AAIgdAdIAAEeIAAkeIAdgdIA5AAIAACPIAACRIAAiRIA4ABIAdAdIA9AAIAZAdIA6AAIA5A5IAADHIg5BXIAABWIkeAAIAAhWIiQjKIAAhUIBAAAIAzA4Igzg4IhAAAIAABUICQDKIAABWgAiABWIAAhWgACBAAIAAhxgAArgbIAAhzg"),this.shape_5=new s.Shape,this.shape_5.graphics.f().s("#FFFF00").ss(3,1,1).p("AArgcIAAhyIgdgdIg4gBIAACQACBhxIgZgdIg9AAAiAAAIgzg4IhAAAIAABUICQDJIAABXIEeAAIAAhXIA6hWIAAjHIg6g5Ig6AAAEbkaQB1B2AACkQAAClh1B1Qh2B2ilgBQikABh2h2Qh1h1AAilQAAikB1h2QB2h0CkgBQClABB2B0gACBAAIAAhxAgqisIAAiPIg5AAIgdAdIAAEeAiABWIAAhW"),this.shape_6=new s.Shape,this.shape_6.graphics.f("#FF0000").s().p("AAAGPQikABh1h2Qh2h1ABilQgBikB2h1QB1h1CkAAQClAAB1B1QB2B1gBCkQABClh2B1Qh0B1imAAIAAAAgAhjE8IEeAAIAAhWIA5hXIAAjHIg5g5Ig6AAIA6AAIA5A5IAADHIg5BXIAABWIkeAAIAAhWIiQjKIAAhUIBAAAIAzA4IAAkeIAdgdIA5AAIAACPIAACRIAAiRIA4ABIAdAdIAABzIAAhzIgdgdIg4gBIAAiPIg5AAIgdAdIAAEeIgzg4IhAAAIAABUICQDKIAABWgAiABWIAAhWgACBAAIAAhxIgZgdIg9AAIA9AAIAZAdgAgqisg"),this.timeline.addTween(s.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1}]}).to({state:[{t:this.shape_4},{t:this.shape_3}]},1).to({state:[{t:this.shape_6},{t:this.shape_5}]},1).wait(1))}).prototype=i=new s.MovieClip,i.nominalBounds=new s.Rectangle(-45,-45,90,90),(A.amLen=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.f().s("#999999").ss(5,1,1).p("APBMeQEglTABnLQgBoEluluQlulvoFAAQoFAAluFvQluFuAAIEQAAIFFuFvQFuFuIFAAQIFAAFuluQAGgGAFgG"),this.shape_1=new s.Shape,this.shape_1.graphics.f().s("#999999").ss(3,1,1).p("AkylsIAygyIKpKoIifCfIqoqpIAxgxIg7g7IA7g8gAltkxIA7g7"),this.shape_1.setTransform(131.9,123.8),this.shape_2=new s.Shape,this.shape_2.graphics.f("#333333").s().p("AmjkFIAygxIA7g7IAxgyIKpKoIieCfg"),this.shape_2.setTransform(132.4,124.3),this.shape_3=new s.Shape,this.shape_3.graphics.f("rgba(255,255,255,0.502)").s().p("AJzGcQhjgtgYhtQgujQjFhdQj4hnAFh4QACgyAsgZIAZgIQANgDAMgCQIkCWBOIYQAOBig9AAQgaAAgogSgArfiXQgujNEGgrQBAgLA3gLQFUgxiCDtQgbAyg6gCQjLgGjFBJQgNAEgLAAQgcAAgIglg"),this.shape_3.setTransform(23.5,-64.9),this.shape_4=new s.Shape,this.shape_4.graphics.f("#FFFFFF").s().p("Ag6AAIA6g6IA6A6Ig6A7g"),this.shape_4.setTransform(95.3,87.2),this.addChild(this.shape_4,this.shape_3,this.shape_2,this.shape_1,this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-127.5,-127.5,303.4,295.3),(A.black=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.f("#000000").s().p("AnzH0IAAvmIPnAAIAAPmg"),this.addChild(this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-50,-50,100,100),(A.theSlit=function(t,i,e){this.initialize(t,i,e,{}),this.handSlit=new A.hand,this.handSlit.setTransform(0,160,.625,.625),this.shape=new s.Shape,this.shape.graphics.f().s("#CCCCCC").ss(5,1,1).p("ATiAAQAAIGlvFuQltFuoGAAQoFAAluluQluluAAoGQAAoFFuluQFuluIFAAQIGAAFtFuQFvFuAAIFg"),this.timeline.addTween(s.Tween.get({}).to({state:[{t:this.shape},{t:this.handSlit}]}).wait(2)),this.media2=new A.media,this.media2.setTransform(0,60),this.media1=new A.media,this.media1.setTransform(0,-60),this.shape_1=new s.Shape,this.shape_1.graphics.f("#CCCCCC").s().p("AgxTiMAAAgnDIBjAAMAAAAnDg"),this.timeline.addTween(s.Tween.get({}).to({state:[{t:this.shape_1},{t:this.media1},{t:this.media2}]}).wait(2))}).prototype=i=new s.MovieClip,i.nominalBounds=new s.Rectangle(-127.5,-127.5,255,315.7),(A.laser=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.f("#00FF00").s().p("AhrBgIAAhEIgyAwIgPgQIAxgxImXAAIAAgVIGXAAIgxgwIAQgRIAxAxIAAhFIAWAAIAABGIAzgyIAQARIgyAwIBEAAIAAAVIhEAAIAzAxIgRAQIgzgxIAABFgAD5AzIAAhiIEbAAIAABig"),this.shape.setTransform(-53.2,.1),this.handLaser=new A.hand,this.handLaser.setTransform(-160,0,.625,.625),this.shape_1=new s.Shape,this.shape_1.graphics.f().s("#FFFFFF").ss(2,1,1).p("AFhhiIBkAAIAADGIhkAAIgBAAIAAjGIABAAIAAhlIslAAIAAGPIMlAAIAAhkAFhhiIAADG"),this.shape_1.setTransform(-74.6,0),this.shape_2=new s.Shape,this.shape_2.graphics.f("#000000").s().p("AnEDHIAAmNIMlAAIAABkIgBAAIAADGIABAAIAABjgAFhBkIAAjGIBkAAIAADGg"),this.shape_2.setTransform(-74.6,0),this.addChild(this.shape_2,this.shape_1,this.handLaser,this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-188.1,-28.1,188.1,56.3),(A.element=function(){this.initialize(),this.shape=new s.Shape,this.shape.graphics.lf(["#000000","rgba(0,0,0,0)","rgba(0,0,0,0)","#000000"],[0,.208,.831,1],50,0,-49.9,0).s().p("AnzH0IAAvmIPnAAIAAPmg"),this.shape_1=new s.Shape,this.shape_1.graphics.lf(["#000000","rgba(0,0,0,0.502)","rgba(0,0,0,0)","rgba(0,0,0,0)","rgba(0,0,0,0.502)","#000000"],[0,.204,.4,.62,.808,1],0,-49.9,0,50).s().p("AnyH0IAAvnIPmAAIAAPng"),this.black=new A.black,this.addChild(this.black,this.shape_1,this.shape)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-50,-50,100,100),(A.mainPlayers=function(){this.initialize(),this.theSlit=new A.theSlit,this.shape=new s.Shape,this.shape.graphics.f().s("#CCCCCC").ss(2,1,1).p("AicmjQj9DnD9C8QApAeAcAgQCOCkjTDCAk6mjQj9DnD9C8QApAeAcAgAk6GkQDVjCiQikA46A+IVFAAAhXA+IaSAA"),this.shape.setTransform(316.5,-6.2),this.shape_1=new s.Shape,this.shape_1.graphics.f("#CCCCCC").s().p("AguDiQgtgbgVg6IgQAAIAABMQADgCAEAAIAjgJIAGASQgiAMg0AFIgGgUIAXgCIAAi+QAAgGAGAAIBtAAQAHAAAAAGIAABqQgBAHgGgBIg4AAQAHARALARQAagQARgOIALAQQgTAPgWAPQASARAlAOIgOATIgcgPgAiAB5IBMAAQAEAAAAgEIAAgYIhQAAgAiAAwIAAAZIBQAAIAAgZQAAgEgFAAIhHAAIgBAAQgDAAAAAEgAAKDdQATgJAGgJQAEgFABgIIAAgsQAAgBAAgBQAAAAAAgBQgBAAAAAAQgBAAgBAAIgWAAIAAgVIAoAAQAGABAAAEIAAA4QABAJAGAHQAKAMAPAEQATAEB3gGIgFAXIhzAAQgsgEgPgaQgCAIgJAKQgKAMgKADgAjGDvIAAhZIgPAOIgRgNQAnggATgrIATAIQgNAYgLASIAABxgACPCoIAMgPIAWANQASgNAIgIIANANQgKAKgMAKIAWASIgLAQQgkgdgagPgAB0DUIAAgpIgBABQgVALgPAGIgLgTQAfgKAbgRIgsAAQAAAAAAgBQgBAAAAAAQAAgBAAAAQAAgBAAgBIAAgtIABgBICEAAQAAAAABAAQAAAAABABQAAAAAAAAQAAAAAAAAIAAAtQAAABAAABQAAAAAAABQgBAAAAAAQgBABAAAAIg7AAIgUAPIAAA2gABjB+IBiAAIABgBIAAgPIhjAAgAALBTIALgSQASAJAVASIgMARQgXgUgPgGgAjmBYQAhgfAPgoIATAHQgXA0gaAYgABGBSIAAgTIBDAAIAAgOIg7AAIAAgRIA7AAIAAgQIATAAIAAAQIA8AAIAAARIg8AAIAAAOIBGAAIAAATgAASAmIAKgSQASAJAUARIgMARQgVgSgPgHgACygWIAAgVQASAGAEgDQAEgDAAgGIAAglIgfAAQgHgCAAgGIAAgeIgRAAIgBAIQgFAVgaAMIgIgLIAABIIgUAAIAAh0QABgFAEABIB9AAQAFAAAAAEIAABhQAAALgJAHQgGAEgJAAQgJAAgNgDgABth7IAAAaQATgKAEgIIABgJIgWAAQgBAAAAAAQAAAAgBAAQAAAAAAABQAAAAAAAAgAC3hqQAAABAAABQAAAAABABQAAAAABAAQAAAAABAAIASAAIAAgUIgBgBIgUAAgAASgUIAAjUIABgEIACAAIAyAAIAOAJIgQA7QgCAJABABQANAVACARQAFAdgLAOQgGAHgGABQgOACgPgGIAAA1gAAkhdQAMAHAIAAQAEgCADgCQACgDABgFQABgKgCgMQgFgQgLgZIANgzQACgFgHAAIgVAAgAi6gUIAAhrIgBAFQgMAbgLARIgTgHQAQgXALgZQAHgRAHgXIglAAIAAgVIAnAAIAAguIAVAAIAAAuIAkAAIAAAVIgiAAQAVAhARAkIgSAKIgWgvIAAB5gAghgVIAAgLIhCAAIAAALIgVAAIAAjSQAAgBAAAAQABgBAAAAQAAAAABAAQAAAAABAAIBkAAQAFAAAAADIAADRgAhjg0IBCAAIAAgmIhCAAgAhjhvIBCAAIAAgoIhCAAgAhjjSIAAAmIBCAAIAAgmQAAgBAAAAQAAgBgBAAQAAgBAAAAQgBAAgBAAIg9AAQgBAAAAAAQgBAAAAABQAAAAAAABQgBAAABABgACTgZIAAgjIgcAAIAAgSIBMAAIAAASIgdAAIAAAjgABnibQAAAAgBAAQgBAAAAgBQAAAAgBAAQAAgBAAgBIAAgrQAAgBAAAAQABgBAAAAQAAAAABAAQABAAAAAAIBrAAQABAAAAAAQABAAAAAAQAAAAABABQAAAAAAABIAAArQAAABAAABQgBAAAAAAQAAABgBAAQAAAAgBAAgAB4i7IAAAPIABABIBHAAIABgBIAAgPIgBAAIhHAAIgBAAgABdjXIAAgSICBAAIAAASg"),this.shape_1.setTransform(293.8,64.8),this.screen=new A.screen,this.screen.setTransform(500,0),this.instance=new A.amLen,this.instance.setTransform(-1.6,-.8),this.laser=new A.laser,this.laser.setTransform(-125,2.9),this.addChild(this.laser,this.instance,this.screen,this.shape_1,this.shape,this.theSlit)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(-313.1,-401.5,1413.6,803),(A.myFlash=function(){this.initialize(),this.instance=new A.mainPlayers,this.instance.setTransform(350,350),this.addChild(this.instance)}).prototype=i=new s.Container,i.nominalBounds=new s.Rectangle(636.9,298.5,1413.6,803)}(lib=lib||{},images=images||{},createjs=createjs||{});var lib,images,createjs,MyJS=MyJS||{};!function(){function A(A){e=A,this.controls=$('<div id="controls"></div>'),this.controls.css("position","absolute").css("top","0").css("left","0"),$("#mainAnimation").append(this.controls),this.titleDiv=$("<div>雙狹縫繞射</div>"),this.titleDiv.css("position","absolute").css("top","30px").css("left","-240px").css("width",lib.properties.width+"px").css("text-align","center").css("font-size","40px").css("color","#FFF"),this.controls.append(this.titleDiv),this.isDDBB=$("<div></div>"),this.controls.append(this.isDDBB),this.isDDBB.css("position","absolute").css("top","560px").css("left","50px").css("width","140px"),this.chIsDDBB=new s("chIsDDBB","縫距/縫寬",!1),this.chIsDDBB.label.css("color","#FFF"),this.isDDBB.append(this.chIsDDBB),this.bbddSliders=$("<div></div>"),this.controls.append(this.bbddSliders),this.bbddSliders.css("position","absolute").css("top","600px").css("left","40px").css("width","180px").css("height","80px").css("padding","6px").css("border","2px solid #666").css("border-radius","8px"),this.slDD=i("slDD","縫距",45,90,70,!1),this.slBB=i("slBB","縫寬",10,40,20,!1),this.bbddSliders.append(this.slDD).append(this.slBB),this.isMedia=$("<div></div>"),this.controls.append(this.isMedia),this.isMedia.css("position","absolute").css("top","560px").css("left","270px").css("width","140px"),this.chIsMedia=new s("chIsMedia","填介質",!1),this.chIsMedia.label.css("color","#FFF"),this.isMedia.append(this.chIsMedia),this.mediaSliders=$("<div></div>"),this.controls.append(this.mediaSliders),this.mediaSliders.css("position","absolute").css("top","600px").css("left","260px").css("width","400px").css("height","80px").css("padding","6px").css("border","2px solid #666").css("border-radius","8px"),this.mediaSlidersA=$("<div></div>"),this.mediaSliders.append(this.mediaSlidersA),this.mediaSlidersA.css("position","absolute").css("top","10px").css("left","10px"),this.mediaSlidersB=$("<div></div>"),this.mediaSliders.append(this.mediaSlidersB),this.mediaSlidersB.css("position","absolute").css("top","10px").css("left","200px"),this.slN1=i("slN1","n1",1,3,1,!0),this.slN2=i("slN2","n2",1,3,1,!0),this.slD1=i("slD1","d1",10,50,30,!0),this.slD2=i("slD2","d2",10,50,30,!0),this.mediaSlidersA.append(this.slN1).append(this.slD1),this.mediaSlidersB.append(this.slN2).append(this.slD2),this.screenBtn=t("screenBtn","強度/圖形"),this.screenBtn.css("position","absolute").css("top","620px").css("left","700px"),this.controls.append(this.screenBtn),this.waveBtn=t("waveBtn","波形/波前"),this.waveBtn.css("position","absolute").css("top","420px").css("left","500px"),this.controls.append(this.waveBtn);var a=$("<div>師大附中‧潘冠錡老師‧2016.11.14</div>");a.css("position","absolute").css("text-align","right").css("top","670px").css("left","980px").css("width","210px").css("font-size","14px").css("color","#999"),this.controls.append(a)}function t(A,t){var s=$('<button type="button" class="btn btn-default"></button>');return s.prop("tabIndex",-1),s.css("width","90px").css("height","36").css("font-size","18px").css("padding","0"),s.append(t),s.id=A,s.click(function(){"screenBtn"===A?(e.screenMD=1===e.screenMD?2:1,e.isScreenDirty=!0):"waveBtn"===A&&(e.waveMD=1===e.waveMD?2:1),s.blur()}),s}function s(A,t,s){var i=$('<div class="checkbox"></div>');return i.label=$("<label></label>").css("font-size","18px"),i.chBox=$('<input type="checkbox">').prop("checked",s).prop("tabIndex",-1),i.label.append(i.chBox).append(t),i.append(i.label),i}function i(A,t,s,i,e,a){var h=$("<div></div>").css("vertical-align","middle"),g=$("<span></sapn>").css("font-size","18px").css("position","relative").css("top","-8px").css("display","inline-block").css("color","#FFF");return h.range=$('<input type="range">').prop("min",s).css("display","inline-block").prop("max",i).prop("step",i<5?.1:1).prop("value",e).prop("id",A).css("margin","5px").css("width","100px"),a&&(h.valueDiv=$("<span>X</sapn>").css("font-size","18px").css("position","relative").css("top","-8px").css("display","inline-block").css("color","#FFF")),g.append(t),h.append(g).append(h.range).append(h.valueDiv),h}var e;A.prototype.update=function(){this.slN1.valueDiv[0].innerHTML=this.slN1.range.prop("value"),this.slN2.valueDiv[0].innerHTML=this.slN2.range.prop("value"),this.slD1.valueDiv[0].innerHTML=Math.round(100*Number(this.slD1.range.prop("value"))/e.lambda)/100+"&lambda;",this.slD2.valueDiv[0].innerHTML=Math.round(100*Number(this.slD2.range.prop("value"))/e.lambda)/100+"&lambda;",this.bbddSliders.css("display",this.chIsDDBB.chBox.prop("checked")?"block":"none"),this.mediaSliders.css("display",this.chIsMedia.chBox.prop("checked")?"block":"none")},MyJS.TheControls=A}();var MyJS=MyJS||{};!function(){function A(){e=this,this.slitBB=10,this.slitDD=50,this.slitDDOld=0,this.slitBBOld=0,this.slitTheta=0*Math.PI/180,this.laserTheta=0*Math.PI/180,this.isScreenDirty=!0,this.isTTPlay=!0,this.waveMD=1,this.dragWho="",this.mediaN1=1,this.mediaN2=1,this.mediaD1=50,this.mediaD2=50,this.mediaN1Old=0,this.mediaN2Old=0,this.mediaD1Old=0,this.mediaD2Old=0,this.lambda=40,this.tt=0,this.period=120,this.screenMD=1,$("#mainAnimation").append('<canvas id="canvas" width="1200" height="700" style="background-color:#000000"></canvas>'),a=$("#canvas").css("position","absolute"),h=new createjs.Stage(a[0]),createjs.Touch.enable(h),$("#mainAnimation").append('<canvas id="canvasPatten" width="50" height="700" style="background-color:#000000"></canvas>'),this.canvasPatten=$("#canvasPatten").css("position","absolute").css("top","0").css("left","850px"),this.theControls=new MyJS.TheControls(this),(g=new lib.mainPlayers).x=350,g.y=350,h.addChild(g),this.theWave=new createjs.Shape,g.addChild(this.theWave),this.theIntensityDiagram=new createjs.Shape,g.screen.addChild(this.theIntensityDiagram),h.enableMouseOver(20),g.laser.handLaser.name="handLaser",g.laser.handLaser.on("mouseover",t),g.laser.handLaser.on("mousedown",s),g.theSlit.handSlit.name="handSlit",g.theSlit.handSlit.on("mouseover",t),g.theSlit.handSlit.on("mousedown",s),h.on("pressup",i),h.update(),this.myTick()}function t(A){var t=A.target.parent;0===t.currentFrame&&t.gotoAndStop(1)}function s(A){var t=A.target.parent;t.gotoAndStop(2),e.dragWho=t.name}function i(A){g.laser.handLaser.gotoAndStop(0),g.theSlit.handSlit.gotoAndStop(0),e.dragWho=""}var e,a,h,g;A.prototype.myTick=function(){for(that=e,requestAnimationFrame(e.myTick),that.slitDD=Number(that.theControls.slDD.range.prop("value")),that.slitBB=Number(that.theControls.slBB.range.prop("value")),that.mediaN1=Number(that.theControls.slN1.range.prop("value")),that.mediaN2=Number(that.theControls.slN2.range.prop("value")),that.mediaD1=Number(that.theControls.slD1.range.prop("value")),that.mediaD2=Number(that.theControls.slD2.range.prop("value")),that.slitBBOld===that.slitBB&&that.slitDDOld===that.slitDD&&that.mediaN1Old===that.mediaN1&&that.mediaN2Old===that.mediaN2&&that.mediaD1Old===that.mediaD1&&that.mediaD2Old===that.mediaD2||(that.isScreenDirty=!0,that.slitDDOld=that.slitDD,that.slitBBOld=that.slitBB,that.mediaN1Old=that.mediaN1,that.mediaN2Old=that.mediaN2,that.mediaD1Old=that.mediaD1,that.mediaD2Old=that.mediaD2),that.theControls.update(),"handLaser"===that.dragWho?(that.isScreenDirty=!0,that.laserTheta=Math.atan2(g.y-h.mouseY,g.x-h.mouseX),that.laserTheta>20*Math.PI/180?that.laserTheta=20*Math.PI/180:that.laserTheta<-20*Math.PI/180?that.laserTheta=-20*Math.PI/180:Math.abs(that.laserTheta)<3*Math.PI/180&&(that.laserTheta=0)):"handSlit"===that.dragWho&&(that.isScreenDirty=!0,that.slitTheta=Math.atan2(g.x-h.mouseX,h.mouseY-g.y),that.slitTheta>60*Math.PI/180?that.slitTheta=60*Math.PI/180:that.slitTheta<-60*Math.PI/180?that.slitTheta=-60*Math.PI/180:Math.abs(that.slitTheta)<5*Math.PI/180&&(that.slitTheta=0)),g.laser.x=-125*Math.cos(that.laserTheta),g.laser.y=-125*Math.sin(that.laserTheta),g.laser.rotation=180*that.laserTheta/Math.PI,g.theSlit.rotation=180*that.slitTheta/Math.PI,that.theWave.rotation=180*that.laserTheta/Math.PI,that.shapeSlit(),that.tt+=1*(that.isTTPlay?1:0);that.tt>that.period;)that.tt-=that.period;that.plotWave(),that.canvasPatten.css("display",2===that.screenMD?"block":"none"),that.isScreenDirty&&2===that.screenMD&&that.drawPatten(),that.theIntensityDiagram.visible=1===that.screenMD,that.isScreenDirty&&1===that.screenMD&&that.drawIntensity(),h.update(),that.isScreenDirty=!1},A.prototype.plotWave=function(){var A=this.slitTheta-this.laserTheta,t=this.theWave.graphics,s=-this.slitDD/2*Math.cos(A),i=this.slitDD/2*Math.cos(A),e=Math.sqrt(15625-i*i),a=-e,h=this.slitDD/2*Math.sin(A)-this.mediaD1/2*Math.cos(A),g=this.slitDD/2*Math.sin(A)+this.mediaD1/2*Math.cos(A),n=-this.slitDD/2*Math.sin(A)-this.mediaD2/2*Math.cos(A),I=-this.slitDD/2*Math.sin(A)+this.mediaD2/2*Math.cos(A),l=this.tt/this.period*2*Math.PI;if(t.clear(),t.setStrokeStyle(3).beginStroke("#0F0"),1===this.waveMD){p=-l;t.moveTo(a,s+10*Math.sin(p));for(o=a;o<=e;){if(o<h||o>g)r=this.lambda;else r=this.lambda/this.mediaN1;o+=r/16,p+=2*Math.PI/16,t.lineTo(o,s+10*Math.sin(p))}p=-l,t.moveTo(a,i+10*Math.sin(p));for(o=a;o<=e;){if(o<n||o>I)r=this.lambda;else r=this.lambda/this.mediaN2;o+=r/16,p+=2*Math.PI/16,t.lineTo(o,i+10*Math.sin(p))}}else if(2===this.waveMD){var p=l,o=a+this.lambda*l/(2*Math.PI);for(t.moveTo(o,s-5);o<=e;){t.lineTo(o,s+5);for(d=0;d<64;d++){if(o<h||o>g)r=this.lambda;else r=this.lambda/this.mediaN1;o+=r/64}t.moveTo(o,s-5)}var p=l,o=a+this.lambda*l/(2*Math.PI);for(t.moveTo(o,i-5);o<=e;){t.lineTo(o,i+5);for(var d=0;d<64;d++){if(o<n||o>I)r=this.lambda;else var r=this.lambda/this.mediaN2;o+=r/64}t.moveTo(o,i-5)}}},A.prototype.shapeSlit=function(){var A=g.theSlit;A.media1.y=-this.slitDD/2,A.media2.y=this.slitDD/2,A.media1.scaleX=this.mediaD1/100,A.media2.scaleX=this.mediaD2/100,A.media1.scaleY=this.slitBB/100,A.media2.scaleY=this.slitBB/100;var t=(this.mediaN1-1)/3*255,s=new createjs.ColorFilter(0,0,0,1,t,0,t,0);A.media1.filters=[s],A.media1.cache(-50,-50,100,100);var i=(this.mediaN2-1)/3*255,e=new createjs.ColorFilter(0,0,0,1,i,0,i,0);A.media2.filters=[e],A.media2.cache(-50,-50,100,100)},A.prototype.drawIntensity=function(){var A=e,t=A.theIntensityDiagram.graphics;t.clear(),t.setStrokeStyle(2).beginStroke("#FFF").moveTo(0,-400);for(var s=g.screen.x*Math.tan(A.laserTheta),i=-400;i<400;i+=2){var a=.001*(i-s)*A.slitBB*Math.cos(A.slitTheta),h=18*Math.sin(a)/a;0===a&&(h=18),t.lineTo(h*h,i)}t.setStrokeStyle(3).beginStroke("#0F0").moveTo(0,-400);for(i=-400;i<400;i+=2){var a=.001*(i-s)*A.slitBB*Math.cos(A.slitTheta),n=.001*(i-s)*A.slitDD*Math.cos(A.slitTheta)-((A.mediaN2-1)*A.mediaD2-(A.mediaN1-1)*A.mediaD1)*Math.PI/A.lambda/Math.cos(A.slitTheta),h=18*Math.sin(a)/a;0===a&&(h=18),h*=Math.cos(n),t.lineTo(h*h,i)}},A.prototype.drawPatten=function(){for(var A=e,t=A.canvasPatten[0],s=t.getContext("2d"),i=s.getImageData(0,0,t.width,t.height),a=g.screen.x*Math.tan(A.laserTheta),h=i.data,n=h.length,I=0;I<n;I+=4){var l=I/4%t.width,p=I/4/t.width-350,o=.001*(p-a)*A.slitBB*Math.cos(A.slitTheta),d=.001*(p-a)*A.slitDD*Math.cos(A.slitTheta)-((A.mediaN2-1)*A.mediaD2-(A.mediaN1-1)*A.mediaD1)*Math.PI/A.lambda/Math.cos(A.slitTheta),r=1*Math.sin(o)/o*Math.cos(d);0===o&&(r=1),h[I]=0,h[I+1]=r*r*255*2*Math.pow(Math.sin(l/50*Math.PI),2),h[I+2]=0,h[I+3]=255}s.putImageData(i,0,0)},MyJS.TheWorld=A}();var theWorld=new MyJS.TheWorld;$("#mainAnimation").css("position","relative").css("width",lib.properties.width+"px").css("height",lib.properties.height+"px");