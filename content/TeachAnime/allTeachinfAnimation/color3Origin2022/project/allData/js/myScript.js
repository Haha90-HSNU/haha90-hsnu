'use strict';var app,dragWho,fps=60,log=console.log,baseCircles1=[],baseCircles2=[],maskCircles2=[],baseCircles3=[],maskCircles3=[],cRR=150,colorRGB=[255,255,255],colorCMY=[255,255,255],centers=[[300,300],[250,380],[350,380],[1e3,300],[950,380],[1050,380]],mxOld=0,myOld=0;function init(){app=new PIXI.Application({view:canvasPixi[0],width:1600,height:900,antialias:!0,transparent:!0,resolution:1});var a=new PIXI.Graphics;a.lineStyle(3,16777215),a.drawRect(50,175,700,450),a.beginFill(16777215),a.drawRect(850,175,700,450),app.stage.addChild(a);for(var b=0;6>b;b++){centers[b][0]=400+cRR/2*Math.sin(2*Math.PI/3*b)+(3>b?0:800),centers[b][1]=420-cRR/2*Math.cos(2*Math.PI/3*b);var c=new PIXI.Graphics;c.x=0,c.y=0,c.beginFill(16711680),c.drawCircle(0,0,cRR),app.stage.addChild(c),baseCircles1.push(c)}for(var d,b=0;6>b;b++){d=new PIXI.Graphics,d.x=0,d.y=0,d.beginFill(16776960),d.drawCircle(0,0,cRR),app.stage.addChild(d),baseCircles2.push(d);var e=new PIXI.Graphics;e.x=0,e.y=0,e.beginFill(16711935),e.drawCircle(0,0,cRR),app.stage.addChild(e),d.mask=e,maskCircles2.push(e)}for(var f,b=0;2>b;b++){f=new PIXI.Graphics,f.x=500,f.y=500,f.beginFill(16777215),f.drawCircle(0,0,cRR),app.stage.addChild(f);var g=new PIXI.Graphics;g.x=530,g.y=530,g.beginFill(16711935),g.drawCircle(0,0,cRR),app.stage.addChild(g),f.mask=g,baseCircles3.push(f),maskCircles3.push(g)}for(var b=0;6>b;b++)world2D["sl0"+(b+1)].minimum=0,world2D["sl0"+(b+1)].maximum=255,world2D["sl0"+(b+1)].value=255,world2D["sl0"+(b+1)].label.visible=!1;world2D.btn3D.on("mousedown",downM),world2D.on("pressmove",myMove),world2D.on("pressup",myUp),setInterval(tick,1e3/fps)}function tick(){for(var a=0;6>a;a++){3>a?colorRGB[a]=Math.floor(world2D["sl0"+(a+1)].value):colorCMY[a-3]=Math.floor(world2D["sl0"+(a+1)].value);var b=baseCircles1[a];if(b.x=centers[a][0],b.y=centers[a][1],b.clear(),3>a)var c=256*(256*colorRGB[0])*(0===a?1:0)+256*colorRGB[1]*(1===a?1:0)+colorRGB[2]*(2===a?1:0);else if(3===a)var c=256*(256*(255-colorCMY[0]))+65280+255;else if(4===a)var c=16711680+256*(255-colorCMY[1])+255;else if(5===a)var c=16776960+(255-colorCMY[2]);var d=c.toString(16);b.beginFill("0x"+d),b.drawCircle(0,0,cRR);var e=baseCircles2[a];if(e.x=centers[a][0],e.y=centers[a][1],e.clear(),3>a)var c=256*(256*colorRGB[0])*(0===a||2===a?1:0)+256*colorRGB[1]*(0===a||1===a?1:0)+colorRGB[2]*(1===a||2===a?1:0);else if(3===a)var c=256*(256*(255-colorCMY[0]))+256*(255-colorCMY[1])+255;else if(4===a)var c=16711680+256*(255-colorCMY[1])+(255-colorCMY[2]);else if(5===a)var c=256*(256*(255-colorCMY[0]))+65280+(255-colorCMY[2]);var d=c.toString(16);e.beginFill("0x"+d),e.drawCircle(0,0,cRR);var f=maskCircles2[a];3>a?(f.x=centers[(a+1)%3][0],f.y=centers[(a+1)%3][1]):(f.x=centers[(a+1)%3+3][0],f.y=centers[(a+1)%3+3][1])}for(var g,a=0;2>a;a++){if(g=baseCircles3[a],g.x=centers[0==a?0:3][0],g.y=centers[0==a?0:3][1],g.clear(),0==a)var c=256*(256*colorRGB[0])+256*colorRGB[1]+colorRGB[2];else var c=256*(256*(255-colorCMY[0]))+256*(255-colorCMY[1])+(255-colorCMY[2]);var d=c.toString(16);g.beginFill("0x"+d),g.drawCircle(0,0,cRR);var h=maskCircles3[a],j=Math.atan2(centers[0==a?2:5][1]-centers[0==a?1:4][1],centers[0==a?2:5][0]-centers[0==a?1:4][0]),k=Math.pow(centers[0==a?2:5][1]-centers[0==a?1:4][1],2)+Math.pow(centers[0==a?2:5][0]-centers[0==a?1:4][0],2);if(k=Math.sqrt(k),k<2*cRR){var l=Math.acos(k/2/cRR);h.x=0,h.y=0,h.clear(),h.beginFill(16711935),h.arc(centers[0===a?1:4][0],centers[0===a?1:4][1],cRR,j-l,j+l),h.arc(centers[0===a?2:5][0],centers[0===a?2:5][1],cRR,Math.PI+j-l,Math.PI+j+l)}else h.clear()}world2D.stage.update()}MyJS.myResize();function downM(a){var b=a.stageX,c=a.stageY;mxOld=b,myOld=c,dragWho=[];for(var d=0;6>d;d++){var e=b-centers[d][0],f=c-centers[d][1],g=e*e+f*f;g=Math.sqrt(g),g<cRR&&dragWho.push(d)}}function myMove(a){var b=a.stageX,c=a.stageY,d=b-mxOld,e=c-myOld;let f=dragWho.length;for(var g=0;g<f;g++)centers[dragWho[g]][0]+=d,centers[dragWho[g]][1]+=e;mxOld=b,myOld=c}function myUp(){dragWho=[]}init();